<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ClickGPT 5.0</title>
    <style>
        /* –ó–∞–≥–∞–ª—å–Ω—ñ —Å—Ç–∏–ª—ñ */
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #0b1120; /* –¢–µ–º–Ω–∏–π —Ñ–æ–Ω */
            color: #e0e0e0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            overflow: hidden; /* –ü—Ä–∏—Ö–æ–≤—É—î–º–æ —Å–∫—Ä–æ–ª–±–∞—Ä */
            position: relative;
        }

        .game-container {
            width: 100%;
            max-width: 450px; /* –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ —à–∏—Ä–∏–Ω–∞ –¥–ª—è –º–æ–±—ñ–ª—å–Ω–∏—Ö */
            height: 100vh;
            display: flex;
            flex-direction: column;
            background-color: #1a2542; /* –û—Å–Ω–æ–≤–Ω–∏–π —Ñ–æ–Ω –≥—Ä–∏ */
            box-shadow: 0 0 20px rgba(0, 246, 255, 0.3); /* –Ø—Å–∫—Ä–∞–≤–∞ —Ç—ñ–Ω—å */
            position: relative;
            overflow: hidden; /* –©–æ–± –∫–æ–Ω—Ç–µ–Ω—Ç –Ω–µ –≤–∏—Ö–æ–¥–∏–≤ –∑–∞ –º–µ–∂—ñ */
        }

        /* –°—Ç–∞—Ä—Ç–æ–≤–∏–π –µ–∫—Ä–∞–Ω */
        .start-screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #0b1120, #1a2542);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            color: #fff;
            text-align: center;
            padding: 20px; /* –î–æ–¥–∞—î–º–æ –≤—ñ–¥—Å—Ç—É–ø–∏ */
            box-sizing: border-box; /* –í—Ä–∞—Ö–æ–≤—É—î–º–æ padding —É —Ä–æ–∑–º—ñ—Ä—ñ */
        }

        .start-screen h1 {
            font-size: 2.5em;
            color: #00f6ff;
            text-shadow: 0 0 10px rgba(0, 246, 255, 0.7);
            margin-bottom: 15px;
        }

        .start-screen > p { /* –°–µ–ª–µ–∫—Ç–æ—Ä –¥–ª—è –ø–∞—Ä–∞–≥—Ä–∞—Ñ–∞ –ø—Ä—è–º–æ–≥–æ –Ω–∞—â–∞–¥–∫–∞ */
            font-size: 1.1em;
            margin-bottom: 30px;
        }

        #startGameBtn {
            background-color: #00f6ff;
            color: #1a2542;
            border: none;
            padding: 15px 30px;
            font-size: 1.2em;
            font-weight: bold;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0, 246, 255, 0.5);
            transition: all 0.3s ease;
            margin-bottom: 30px; /* –í—ñ–¥—Å—Ç—É–ø –≤—ñ–¥ —ñ—Å—Ç–æ—Ä—ñ—ó */
        }

        #startGameBtn:hover {
            background-color: #00d4e0;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 246, 255, 0.7);
        }

        .history-text {
            font-size: 0.9em;
            color: #c0c0c0;
            line-height: 1.6;
            max-width: 350px;
            text-align: center;
            margin: 0 auto 20px auto; /* –¶–µ–Ω—Ç—Ä—É—î–º–æ —Ç–∞ –¥–æ–¥–∞—î–º–æ –≤—ñ–¥—Å—Ç—É–ø –∑–Ω–∏–∑—É */
        }

        .history-text strong {
            color: #00f6ff;
        }

        .history-text q { /* –î–ª—è —Ü–∏—Ç–∞—Ç–∏ */
            font-style: italic;
            display: block;
            margin: 15px 0;
            color: #a0a0a0;
        }

        /* –í–µ—Ä—Ö–Ω—è –ø–∞–Ω–µ–ª—å (Top Bar) */
        .top-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 15px;
            background-color: #2a3b5c; /* –¢–µ–º–Ω—ñ—à–∏–π —Ñ–æ–Ω –¥–ª—è –ø–∞–Ω–µ–ª—ñ */
            box-shadow: 0 3px 10px rgba(0,0,0,0.3);
            z-index: 50;
            position: sticky;
            top: 0;
            flex-wrap: wrap; /* –î–æ–∑–≤–æ–ª—è—î –ø–µ—Ä–µ–Ω–æ—Å –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ */
        }

        .top-left-info {
            display: flex;
            align-items: center;
            flex-grow: 1;
            flex-basis: 50%; /* –ó–∞–π–º–∞—î –ø–æ–ª–æ–≤–∏–Ω—É —à–∏—Ä–∏–Ω–∏ –Ω–∞ –º–∞–ª–∏—Ö –µ–∫—Ä–∞–Ω–∞—Ö */
        }

        .gpt-balance {
            display: flex;
            align-items: center;
            font-size: 1.5em;
            font-weight: bold;
            color: #fff;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.5);
        }

        .gpt-icon {
            width: 30px;
            height: 30px;
            margin-right: 8px;
            filter: drop-shadow(0 0 5px #00f6ff);
        }

        .player-info {
            display: flex;
            align-items: center;
            flex-grow: 1; /* –ó–∞–π–º–∞—î –¥–æ—Å—Ç—É–ø–Ω–∏–π –ø—Ä–æ—Å—Ç—ñ—Ä */
            margin-left: 10px; /* –í—ñ–¥—Å—Ç—É–ø –≤—ñ–¥ GPT –±–∞–ª–∞–Ω—Å—É */
        }

        .player-info .level-display {
            font-size: 1.1em;
            font-weight: bold;
            color: #fff;
            margin-right: 10px;
            white-space: nowrap; /* –©–æ–± –Ω–µ –ø–µ—Ä–µ–Ω–æ—Å–∏–≤—Å—è —Ç–µ–∫—Å—Ç —Ä—ñ–≤–Ω—è */
        }

        .player-info .level-progress {
            flex-grow: 1;
            height: 10px;
            background-color: rgba(0, 246, 255, 0.2);
            border-radius: 5px;
            overflow: hidden;
            position: relative;
        }

        .level-progress-bar {
            height: 100%;
            background-color: #00f6ff;
            width: 0%; /* –ó–∞–ø–æ–≤–Ω–µ–Ω–Ω—è JS */
            border-radius: 5px;
            transition: width 0.3s ease-out;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 0.7em;
            color: #1a2542;
            text-shadow: 0 0 2px rgba(0,0,0,0.5);
        }

        .energy-bar-container {
            width: 100%; /* –ó–∞–π–º–∞—î –≤—Å—é —à–∏—Ä–∏–Ω—É –ø—ñ–¥ –±–∞–ª–∞–Ω—Å–æ–º GPT */
            height: 8px;
            background-color: rgba(255, 165, 0, 0.2); /* –û—Ä–∞–Ω–∂–µ–≤–∏–π –¥–ª—è –µ–Ω–µ—Ä–≥—ñ—ó */
            border-radius: 4px;
            margin-top: 5px;
            overflow: hidden;
        }

        .energy-bar {
            height: 100%;
            background-color: #ffa500; /* –û—Ä–∞–Ω–∂–µ–≤–∏–π */
            width: 100%; /* –ó–∞–ø–æ–≤–Ω–µ–Ω–Ω—è JS */
            border-radius: 4px;
            transition: width 0.3s ease-out;
        }

        .top-actions {
            display: flex;
            margin-left: auto; /* –ü—Ä–∏—Ç–∏—Å–∫–∞—î –¥–æ –ø—Ä–∞–≤–æ–≥–æ –∫—Ä–∞—é */
            flex-basis: 100%; /* –ó–∞–π–º–∞—î –≤—Å—é —à–∏—Ä–∏–Ω—É –Ω–∞ –º–∞–ª–∏—Ö –µ–∫—Ä–∞–Ω–∞—Ö */
            justify-content: flex-end; /* –í–∏—Ä—ñ–≤–Ω—é–≤–∞–Ω–Ω—è –ø—Ä–∞–≤–æ—Ä—É—á */
            margin-top: 10px; /* –í—ñ–¥—Å—Ç—É–ø –∑–≤–µ—Ä—Ö—É */
        }
        @media (min-width: 450px) { /* –ù–∞ –±—ñ–ª—å—à–∏—Ö –µ–∫—Ä–∞–Ω–∞—Ö –ø–æ–≤–µ—Ä—Ç–∞—î–º–æ –≤ –æ–¥–∏–Ω —Ä—è–¥–æ–∫ */
            .top-actions {
                flex-basis: auto;
                margin-top: 0;
            }
            .top-left-info {
                flex-basis: auto;
            }
        }

        .top-actions .icon-btn {
            background: none;
            border: none;
            font-size: 1.8em;
            color: #00f6ff;
            cursor: pointer;
            margin-left: 10px;
            transition: transform 0.2s;
            filter: drop-shadow(0 0 5px rgba(0, 246, 255, 0.5));
        }

        .top-actions .icon-btn:hover {
            transform: scale(1.1);
        }

        /* –û—Å–Ω–æ–≤–Ω–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç */
        .main-content {
            flex-grow: 1; /* –ó–∞–π–º–∞—î –≤–µ—Å—å –¥–æ—Å—Ç—É–ø–Ω–∏–π –ø—Ä–æ—Å—Ç—ñ—Ä */
            padding: 15px;
            overflow-y: auto; /* –î–æ–∑–≤–æ–ª—è—î–º–æ –ø—Ä–æ–∫—Ä—É—Ç–∫—É –≤–º—ñ—Å—Ç—É */
            -webkit-overflow-scrolling: touch; /* –î–ª—è –ø–ª–∞–≤–Ω–æ–≥–æ —Å–∫—Ä–æ–ª—É –Ω–∞ iOS */
            padding-bottom: 70px; /* –ó–∞–ª–∏—à–∞—î–º–æ –º—ñ—Å—Ü–µ –¥–ª—è –Ω–∏–∂–Ω—å–æ—ó –ø–∞–Ω–µ–ª—ñ */
        }

        .section {
            background-color: #1a2542; /* –ö–æ–ª—ñ—Ä —Å–µ–∫—Ü—ñ–π, —è–∫ –æ—Å–Ω–æ–≤–Ω–∏–π —Ñ–æ–Ω */
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px; /* –í—ñ–¥—Å—Ç—É–ø –º—ñ–∂ —Å–µ–∫—Ü—ñ—è–º–∏, —è–∫—â–æ –≤–æ–Ω–∏ –ø–æ–∫–∞–∑—É—é—Ç—å—Å—è */
            box-shadow: inset 0 0 15px rgba(0, 246, 255, 0.1), 0 5px 15px rgba(0,0,0,0.4);
            text-align: center;
        }

        .section h2 {
            color: #00f6ff;
            margin-top: 0;
            text-shadow: 1px 1px 5px rgba(0, 246, 255, 0.5);
            font-size: 1.8em;
        }

        /* –°–µ–∫—Ü—ñ—è –ö–ª—ñ–∫ (–ì–æ–ª–æ–≤–Ω–∏–π –µ–∫—Ä–∞–Ω) */
        .clicker-area {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100%; /* –ó–∞–π–º–∞—î –≤—Å—é –≤–∏—Å–æ—Ç—É —Å–µ–∫—Ü—ñ—ó */
            min-height: 400px; /* –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ –≤–∏—Å–æ—Ç–∞ –¥–ª—è –∫–ª—ñ–∫–µ—Ä–∞ */
        }

        .ton-coin {
            width: 250px;
            height: 250px;
            cursor: pointer;
            transition: transform 0.1s ease-out;
            filter: drop-shadow(0 0 20px #00f6ff); /* –°–∏–ª—å–Ω–µ —Å–≤—ñ—Ç—ñ–Ω–Ω—è –º–æ–Ω–µ—Ç–∏ */
        }

        .ton-coin:active {
            transform: scale(0.95);
        }

        .auto-gpt-indicator {
            display: flex;
            align-items: center;
            margin-top: 20px;
            font-size: 1.2em;
            color: #fff;
            background-color: #0d1a33;
            padding: 8px 15px;
            border-radius: 20px;
            box-shadow: 0 0 10px rgba(0, 246, 255, 0.3);
        }

        .small-autogpt-icon {
            width: 25px;
            height: 25px;
            margin-right: 8px;
            filter: drop-shadow(0 0 5px #00f6ff);
        }

        /* –ë–∞–∑–æ–≤—ñ —Å—Ç–∏–ª—ñ –¥–ª—è –∫–Ω–æ–ø–æ–∫ */
        button {
            background-color: #00f6ff;
            color: #1a2542;
            border: none;
            padding: 10px 20px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            box-shadow: 0 4px 10px rgba(0, 246, 255, 0.3);
            transition: all 0.2s ease;
            margin: 5px;
        }

        button:hover {
            background-color: #00d4e0;
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 246, 255, 0.5);
        }

        button:disabled {
            background-color: #555;
            color: #bbb;
            cursor: not-allowed;
            box-shadow: none;
            transform: none;
        }

        /* –°–µ–∫—Ü—ñ—ó –ë—ñ—Ä–∂–∞, AutoGPT, –ú–∞–≥–∞–∑–∏–Ω */
        .exchange-controls, .upgrade-list, .store-grid {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-top: 20px;
        }

        .upgrade-item, .store-item {
            background-color: #0d1a33; /* –¢—Ä–æ—Ö–∏ —Ç–µ–º–Ω—ñ—à–∏–π —Ñ–æ–Ω –¥–ª—è –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ */
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
            text-align: left;
        }

        .upgrade-item h3, .store-item h3 {
            color: #fff;
            margin-top: 0;
            margin-bottom: 5px;
        }

        .upgrade-item p, .store-item p {
            font-size: 0.9em;
            color: #b0b0b0;
        }

        /* –°–µ–∫—Ü—ñ—è TON */
        .ton-address-box {
            background-color: #0d1a33;
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            word-break: break-all; /* –î–æ–∑–≤–æ–ª—è—î –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç–∏ –¥–æ–≤–≥—ñ —Å–ª–æ–≤–∞ */
            box-shadow: inset 0 0 10px rgba(0, 246, 255, 0.1);
        }

        .ton-address-box span {
            color: #fff;
            font-size: 0.9em;
            margin-right: 10px;
            flex-grow: 1;
        }

        .ton-address-box .copy-btn {
            background-color: #00f6ff;
            color: #1a2542;
            padding: 8px 15px;
            font-size: 0.9em;
            border-radius: 8px;
            white-space: nowrap; /* –©–æ–± –∫–Ω–æ–ø–∫–∞ –Ω–µ –ø–µ—Ä–µ–Ω–æ—Å–∏–ª–∞—Å—å */
        }

        .tonkeeper-btn {
            background-color: #28a745; /* –ó–µ–ª–µ–Ω–∏–π –∫–æ–ª—ñ—Ä –¥–ª—è TON */
            color: #fff;
            box-shadow: 0 4px 10px rgba(40, 167, 69, 0.3);
        }

        .tonkeeper-btn:hover {
            background-color: #218838;
            box-shadow: 0 6px 12px rgba(40, 167, 69, 0.5);
        }

        .note {
            font-size: 0.8em;
            color: #ffcccc; /* –ß–µ—Ä–≤–æ–Ω—É–≤–∞—Ç–∏–π –¥–ª—è –≤–∞–∂–ª–∏–≤–∏—Ö –∑–∞–º—ñ—Ç–æ–∫ */
            margin-top: 15px;
        }

        /* –°–µ–∫—Ü—ñ—è NFT */
        .nft-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .nft-card {
            background-color: #0d1a33;
            padding: 10px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
        }

        .nft-card img {
            width: 100%;
            height: 100px;
            object-fit: cover;
            border-radius: 8px;
            margin-bottom: 10px;
        }

        .nft-card h3 {
            font-size: 1em;
            color: #fff;
            margin-top: 0;
            margin-bottom: 5px;
        }

        .nft-card p {
            font-size: 0.8em;
            color: #b0b0b0;
        }

        /* –°–µ–∫—Ü—ñ—è "–ë—ñ–ª—å—à–µ" —Ç–∞ —ñ–Ω—à—ñ –∫–Ω–æ–ø–∫–∏ –≤ –Ω—ñ–π */
        .more-options-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(130px, 1fr)); /* –î–≤—ñ –∫–Ω–æ–ø–∫–∏ –≤ —Ä—è–¥–æ–∫ */
            gap: 10px;
            margin-top: 20px;
        }

        .more-options-grid .tab-button {
            width: 100%;
            padding: 12px 10px;
            font-size: 0.95em;
        }

        /* –ù–∏–∂–Ω—è –Ω–∞–≤—ñ–≥–∞—Ü—ñ—è (Bottom Navigation Bar) */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            max-width: 450px;
            display: flex;
            justify-content: space-around;
            background-color: #2a3b5c; /* –¢–µ–º–Ω—ñ—à–∏–π —Ñ–æ–Ω –¥–ª—è –Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó */
            padding: 8px 0;
            box-shadow: 0 -3px 10px rgba(0,0,0,0.3);
            z-index: 100;
            border-top-left-radius: 15px;
            border-top-right-radius: 15px;
            overflow: hidden; /* –©–æ–± –∑–∞–∫—Ä—É–≥–ª–µ–Ω–Ω—è –ø—Ä–∞—Ü—é–≤–∞–ª–∏ */
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            color: #b0b0b0;
            font-size: 0.75em;
            cursor: pointer;
            opacity: 0.7;
            transition: all 0.2s ease;
            padding: 5px;
            min-width: 60px; /* –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ —à–∏—Ä–∏–Ω–∞ –¥–ª—è —ñ–∫–æ–Ω–æ–∫ */
        }

        .nav-item.active {
            opacity: 1;
            color: #00f6ff; /* –ê–∫—Ç–∏–≤–Ω–∏–π –µ–ª–µ–º–µ–Ω—Ç —è—Å–∫—Ä–∞–≤–∏–π */
            transform: translateY(-3px); /* –õ–µ–≥–∫–∏–π –ø—ñ–¥–π–æ–º */
            text-shadow: 0 0 5px rgba(0, 246, 255, 0.7);
        }

        .nav-item:hover {
            opacity: 0.9;
            color: #fff;
        }

        .nav-icon {
            width: 28px;
            height: 28px;
            margin-bottom: 3px;
            filter: drop-shadow(0 0 3px rgba(0,0,0,0.5)); /* –¢—ñ–Ω—å –¥–ª—è —ñ–∫–æ–Ω–æ–∫ */
        }

        .nav-item.active .nav-icon {
            filter: drop-shadow(0 0 8px #00f6ff); /* –°–≤—ñ—Ç—ñ–Ω–Ω—è –¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ—ó —ñ–∫–æ–Ω–∫–∏ */
        }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω—ñ—Å—Ç—å –¥–ª—è –º–µ–Ω—à–∏—Ö –µ–∫—Ä–∞–Ω—ñ–≤ */
        @media (max-width: 380px) {
            .gpt-balance {
                font-size: 1.3em;
            }
            .top-actions .icon-btn {
                font-size: 1.5em;
            }
            .ton-coin {
                width: 200px;
                height: 200px;
            }
            .nav-item {
                font-size: 0.7em;
                min-width: 50px;
            }
            .nav-icon {
                width: 24px;
                height: 24px;
            }
        }

        /* –ê–Ω—ñ–º–∞—Ü—ñ—è –¥–ª—è –∫–ª—ñ–∫—ñ–≤ */
        .click-animation {
            position: absolute;
            color: #00f6ff;
            font-size: 2em;
            font-weight: bold;
            opacity: 0;
            animation: fade-up 0.8s forwards;
            pointer-events: none; /* –©–æ–± –Ω–µ –±–ª–æ–∫—É–≤–∞–ª–æ –∫–ª—ñ–∫–∏ */
            text-shadow: 0 0 5px rgba(0, 246, 255, 0.7);
            z-index: 99;
        }

        @keyframes fade-up {
            0% {
                opacity: 1;
                transform: translateY(0);
            }
            100% {
                opacity: 0;
                transform: translateY(-50px);
            }
        }

        /* –°—Ç–∏–ª—ñ –¥–ª—è –º—ñ–Ω—ñ-–±—ñ—Ä–∂—ñ (Marketplace) */
        .marketplace-tabs {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
            gap: 10px;
            flex-wrap: wrap; /* –î–æ–∑–≤–æ–ª—è—î –ø–µ—Ä–µ–Ω–æ—Å –∫–Ω–æ–ø–æ–∫ –Ω–∞ –º–µ–Ω—à–∏—Ö –µ–∫—Ä–∞–Ω–∞—Ö */
        }

        .marketplace-tabs button {
            background-color: #00f6ff;
            color: #1a2542;
            border: none;
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.2s, transform 0.2s;
            box-shadow: 0 2px 5px rgba(0, 246, 255, 0.3);
        }

        .marketplace-tabs button.active {
            background-color: #00d4e0;
            box-shadow: 0 4px 8px rgba(0, 246, 255, 0.5);
            transform: translateY(-2px);
        }

        .marketplace-tabs button:hover:not(.active) {
            background-color: #00b8c4;
        }

        .marketplace-cards-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .card-item {
            background-color: #0d1a33;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
            text-align: center;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            min-height: 180px; /* –§—ñ–∫—Å–æ–≤–∞–Ω–∞ –≤–∏—Å–æ—Ç–∞ –¥–ª—è –∫–∞—Ä—Ç–æ–∫ */
            position: relative;
            overflow: hidden; /* –©–æ–± —ñ–∫–æ–Ω–∫–∏ –Ω–µ –≤–∏—Ö–æ–¥–∏–ª–∏ –∑–∞ –º–µ–∂—ñ */
        }

        .card-item.locked {
            filter: grayscale(100%);
            opacity: 0.6;
            cursor: not-allowed;
        }

        .card-item .card-icon {
            font-size: 2.5em;
            margin-bottom: 5px;
            filter: drop-shadow(0 0 5px rgba(0, 246, 255, 0.3));
        }

        .card-item h3 {
            color: #fff;
            margin: 5px 0;
            font-size: 1.1em;
        }

        .card-item p {
            font-size: 0.8em;
            color: #b0b0b0;
            margin-bottom: 10px;
        }

        .card-item .card-level {
            font-size: 0.9em;
            font-weight: bold;
            color: #00f6ff;
            margin-bottom: 10px;
        }

        .card-item button {
            width: calc(100% - 10px); /* –ó —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è–º –º–∞—Ä–¥–∂—ñ–Ω—ñ–≤ */
            padding: 8px 10px;
            font-size: 0.85em;
            margin-top: auto; /* –ü—Ä–∏—Ç–∏—Å–∫–∞—î –∫–Ω–æ–ø–∫—É –¥–æ–Ω–∏–∑—É */
        }

        .card-item button.buy-ton {
            background-color: #28a745; /* –ó–µ–ª–µ–Ω–∏–π –¥–ª—è TON */
            box-shadow: 0 2px 8px rgba(40, 167, 69, 0.3);
        }
        .card-item button.buy-ton:hover {
            background-color: #218838;
            box-shadow: 0 4px 10px rgba(40, 167, 69, 0.5);
        }

        .auto-bot-info {
            background-color: #0d1a33;
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            box-shadow: inset 0 0 10px rgba(0, 246, 255, 0.1);
            text-align: left;
        }

        .auto-bot-info h3 {
            color: #00f6ff;
            margin-top: 0;
            margin-bottom: 10px;
        }

        .auto-bot-info p {
            margin-bottom: 5px;
        }

        .auto-bot-info button {
            margin-top: 10px;
        }

        /* –°—Ç–∏–ª—ñ –¥–ª—è —Å–µ–∫—Ü—ñ—ó –ö–≤–µ—Å—Ç—ñ–≤ */
        .quest-item {
            background-color: #0d1a33;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
            margin-bottom: 15px;
            text-align: left;
        }
        .quest-item h3 {
            color: #fff;
            margin-top: 0;
            margin-bottom: 5px;
            font-size: 1.1em;
        }
        .quest-item p {
            font-size: 0.9em;
            color: #b0b0b0;
            margin-bottom: 10px;
        }
        .quest-progress-bar {
            height: 5px;
            background-color: rgba(0, 246, 255, 0.2);
            border-radius: 2px;
            overflow: hidden;
            margin-bottom: 10px;
        }
        .quest-progress-fill {
            height: 100%;
            background-color: #00f6ff;
            width: 0%;
        }
        .quest-item button {
            width: auto;
            padding: 8px 15px;
            font-size: 0.9em;
            margin-top: 0;
        }
        .quest-item button:disabled {
            background-color: #555;
            color: #bbb;
        }
    </style>
</head>
<body>

    <audio id="clickSound" src="https://www.soundjay.com/buttons/sounds/button-2.mp3" preload="auto"></audio>
    <audio id="buySound" src="https://www.soundjay.com/buttons/sounds/button-7.mp3" preload="auto"></audio>

    <div class="start-screen" id="startScreen">
        <h1>ClickGPT 5.0</h1>
        <p>–í–∞—à —à–ª—è—Ö –¥–æ TON –º–∞–π–Ω—ñ–Ω–≥—É –ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è —Ç—É—Ç!</p>
        <button id="startGameBtn">–ü–æ—á–∞—Ç–∏ –≥—Ä—É</button>

        <div class="history-text">
            <p><strong>–Ü—Å—Ç–æ—Ä—ñ—è ClickGPT 5.0</strong></p>
            <p>–£ 2025 —Ä–æ—Ü—ñ –ó–∞—Å–Ω–æ–≤–Ω–∏–∫ CUBERION AI —Å—Ç–≤–æ—Ä–∏–≤ ClickGPT 5.0 ‚Äî –≥—Ä—É –Ω–∞ –º–µ–∂—ñ —ñ–≥—Ä–æ–≤–æ—ó —Ä–µ–≤–æ–ª—é—Ü—ñ—ó. –ù–∞—Ä–æ–¥–∏–ª–∞—Å—è –Ω–æ–≤–∞ –µ–ø–æ—Ö–∞, –≤ —è–∫—ñ–π –∫–ª—ñ–∫, –±–ª–æ–∫—á–µ–π–Ω —ñ —à—Ç—É—á–Ω–∏–π —ñ–Ω—Ç–µ–ª–µ–∫—Ç –æ–±‚Äô—î–¥–Ω–∞–ª–∏—Å—è –≤ —î–¥–∏–Ω–∏–π –≤—Å–µ—Å–≤—ñ—Ç.</p>
            <p>–ó–∞—Å–Ω–æ–≤–Ω–∏–∫ ClickGPT –ø—Ä–æ–∫–ª–∞–≤ —à–ª—è—Ö, —â–æ–± –∫–æ–∂–µ–Ω –≥—Ä–∞–≤–µ—Ü—å –∑–º—ñ–≥ –∑–∞—Ä–æ–±–ª—è—Ç–∏, —Ä–æ–∑–≤–∏–≤–∞—Ç–∏—Å—è —Ç–∞ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –≤–ª–∞—Å–Ω—É —ñ–º–ø–µ—Ä—ñ—é –®–Ü ‚Äî –≥–Ω—É—á–∫—É, —Å—Ç—Ä–∞—Ç–µ–≥—ñ—á–Ω—É —Ç–∞ –ø–æ–≤–Ω—É –≤–∏–∫–ª–∏–∫—ñ–≤.</p>
            <p>–¶—è –≥—Ä–∞ ‚Äî –ø–æ–¥—è–∫–∞ –≤—Å—ñ–º, —Ö—Ç–æ –≤—ñ—Ä–∏–≤ —É —Å–∏–ª—É –Ω–µ–π—Ä–æ–º–µ—Ä–µ–∂. ClickGPT 5.0 ‚Äî —Ü–µ –µ–≤–æ–ª—é—Ü—ñ—è –≥—Ä–∏, –¥–µ –∫–ª—ñ–∫, –∫—Ä–∏–ø—Ç–∞ —Ç–∞ —à—Ç—É—á–Ω–∏–π —ñ–Ω—Ç–µ–ª–µ–∫—Ç –∑–ª–∏–ª–∏—Å—å –≤ –æ–¥–Ω–µ —Ü—ñ–ª–µ.</p>
            <q>–°—Ç–≤–æ—Ä–µ–Ω–æ –∑ –ø–æ–¥—è–∫–æ—é OpenAI (ChatGPT) —Ç–∞ Google (Gemini).</q>
            <p>–í—ñ–¥—á—É–π —Å–µ–±–µ —Ç–≤–æ—Ä—Ü–µ–º. –í–µ–¥–∏ —Å–≤–æ—é —ñ–º–ø–µ—Ä—ñ—é –¥–æ –≤–µ—Ä—à–∏–Ω–∏.</p>
        </div>
    </div>

    <div class="game-container" id="gameContainer" style="display:none;">

        <div class="top-bar">
            <div class="top-left-info">
                <div class="gpt-balance">
                    <img src="https://i.ibb.co/L50H86T/gpt-icon.png" alt="GPT Icon" class="gpt-icon">
                    <span id="gptCount">0</span> GPT
                </div>
                <div class="player-info">
                    <span class="level-display">–†—ñ–≤–µ–Ω—å: <span id="playerLevel">1</span></span>
                    <div class="level-progress">
                        <div class="level-progress-bar" id="levelProgressBar"></div>
                    </div>
                </div>
            </div>
            <div class="energy-bar-container">
                <div class="energy-bar" id="energyBar"></div>
            </div>
            <div class="top-actions">
                <button class="icon-btn" onclick="showSettings()">‚öôÔ∏è</button>
                <button class="icon-btn" onclick="showNotifications()">üîî</button>
            </div>
        </div>

        <div class="main-content">
            <div class="section" id="click" style="display:block;">
                <div class="clicker-area">
                    <img src="https://i.ibb.co/ZzF4M5w/ton-coin.png" alt="TON Coin" class="ton-coin" id="tonCoin">
                    <div class="auto-gpt-indicator">
                        <img src="https://i.ibb.co/3Wf4Q7x/autogpt-small-icon.png" alt="AutoGPT Icon" class="small-autogpt-icon">
                        <span id="autoGptRate">0</span> GPT/—Å–µ–∫
                    </div>
                </div>
            </div>

            <div class="section" id="exchange" style="display:none;">
                <h2>–ë—ñ—Ä–∂–∞ GPT</h2>
                <p>–¢—É—Ç –±—É–¥–µ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª –æ–±–º—ñ–Ω—É GPT. <br> –ö—É–ø—É–π—Ç–µ —Ç–∞ –ø—Ä–æ–¥–∞–≤–∞–π—Ç–µ GPT –∑–∞ TON –∞–±–æ —ñ–Ω—à—ñ —ñ–≥—Ä–æ–≤—ñ —Ä–µ—Å—É—Ä—Å–∏.</p>
                <div class="marketplace-tabs">
                    <button class="tab-button active" data-market-tab="crypto">–ö—Ä–∏–ø—Ç–∞</button>
                    <button class="tab-button" data-market-tab="ai">–®–Ü</button>
                    <button class="tab-button" data-market-tab="meme">–ú–µ–º-–µ–∫–æ—Å–∏—Å—Ç–µ–º–∞</button>
                    <button class="tab-button" data-market-tab="social">–¢–µ–ª–µ–≥—Ä–∞–º / –ë—ñ—Ä–∂—ñ / –Ü–Ω—Ñ–ª—é–µ–Ω—Å–µ—Ä–∏</button>
                </div>
                <div id="marketplace-cards-container" class="marketplace-cards-container">
                    </div>
                <p class="note">–î–µ—è–∫—ñ –∫–∞—Ä—Ç–∫–∏ –∑'—è–≤–ª—è—Ç—å—Å—è –ø—ñ–∑–Ω—ñ—à–µ. –°—Ç–µ–∂—Ç–µ –∑–∞ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è–º–∏!</p>
            </div>

            <div class="section" id="autogpt" style="display:none;">
                <h2>AutoGPT</h2>
                <p>–ü–æ–∫—Ä–∞—â—É–π—Ç–µ —Å–≤—ñ–π AutoGPT, —â–æ–± –∑–∞—Ä–æ–±–ª—è—Ç–∏ GPT –ø–∞—Å–∏–≤–Ω–æ!</p>
                <div class="upgrade-list">
                    <div class="upgrade-item" data-upgrade-cost="100" data-upgrade-rate="1" data-upgrade-type="baseAutoGpt">
                        <h3>–ë–∞–∑–æ–≤–∏–π AutoGPT</h3>
                        <p>–ì–µ–Ω–µ—Ä—É—î +1 GPT/—Å–µ–∫.</p>
                        <button class="buy-upgrade-btn">–ü–æ–∫—Ä–∞—â–∏—Ç–∏ (100 GPT)</button>
                    </div>
                    <div class="upgrade-item" data-upgrade-cost="500" data-upgrade-rate="5" data-upgrade-type="superMiner">
                        <h3>–°—É–ø–µ—Ä-–º–∞–π–Ω–µ—Ä</h3>
                        <p>–ì–µ–Ω–µ—Ä—É—î +5 GPT/—Å–µ–∫.</p>
                        <button class="buy-upgrade-btn">–ö—É–ø–∏—Ç–∏ (500 GPT)</button>
                    </div>
                    <div class="upgrade-item" data-upgrade-cost="2000" data-upgrade-rate="20" data-upgrade-type="quantumProcessor">
                        <h3>–ö–≤–∞–Ω—Ç–æ–≤–∏–π –ø—Ä–æ—Ü–µ—Å–æ—Ä</h3>
                        <p>–ì–µ–Ω–µ—Ä—É—î +20 GPT/—Å–µ–∫.</p>
                        <button class="buy-upgrade-btn">–ö—É–ø–∏—Ç–∏ (2000 GPT)</button>
                    </div>
                </div>

                <div class="auto-bot-info">
                    <h3>–ê–≤—Ç–æ–ë–æ—Ç (–û—Ñ–ª–∞–π–Ω-–º–∞–π–Ω—ñ–Ω–≥)</h3>
                    <p>–ü—Ä–∞—Ü—é—î, –ø–æ–∫–∏ –≤–∏ –≤—ñ–¥–ø–æ—á–∏–≤–∞—î—Ç–µ. –ü—Ä–∏–Ω–æ—Å–∏—Ç—å: <span id="offlineMiningRate">0</span> GPT/–≥–æ–¥</p>
                    <p>–†—ñ–≤–µ–Ω—å –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ: <span id="offlineBotLevel">1</span></p>
                    <button id="upgradeOfflineBotBtn">–ü–æ–∫—Ä–∞—â–∏—Ç–∏ –ê–≤—Ç–æ–ë–æ—Ç–∞ (<span id="offlineBotCost">0</span> GPT)</button>
                </div>
            </div>

            <div class="section" id="store" style="display:none;">
                <h2>–ú–∞–≥–∞–∑–∏–Ω üè™ GPT</h2>
                <p>–ö—É–ø—É–π—Ç–µ –ø–æ—Ç—É–∂–Ω—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è —Ç–∞ –±–æ–Ω—É—Å–∏!</p>
                <div class="store-grid">
                    <div class="store-item" data-item-cost="50" data-item-type="clickBooster">
                        <h3>–ü—Ä–∏—Å–∫–æ—Ä—é–≤–∞—á –∫–ª—ñ–∫—ñ–≤</h3>
                        <p>–ö–æ–∂–µ–Ω –∫–ª—ñ–∫ –ø—Ä–∏–Ω–æ—Å–∏—Ç—å +1 GPT.</p>
                        <button class="buy-item-btn">–ö—É–ø–∏—Ç–∏ (50 GPT)</button>
                    </div>
                    <div class="store-item" data-item-cost="200" data-item-type="energyBoost">
                        <h3>–ï–Ω–µ—Ä–≥–µ—Ç–∏—á–Ω–∏–π –±—É—Å—Ç</h3>
                        <p>–ó–±—ñ–ª—å—à—É—î –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É –µ–Ω–µ—Ä–≥—ñ—é –Ω–∞ 20%.</p>
                        <button class="buy-item-btn">–ö—É–ø–∏—Ç–∏ (200 GPT)</button>
                    </div>
                    <div class="store-item" data-item-cost="1000" data-item-type="dailyBonusReset">
                        <h3>–ú–∏—Ç—Ç—î–≤–µ –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è –µ–Ω–µ—Ä–≥—ñ—ó</h3>
                        <p>–ú–∏—Ç—Ç—î–≤–æ –≤—ñ–¥–Ω–æ–≤–ª—é—î –≤—Å—é –µ–Ω–µ—Ä–≥—ñ—é.</p>
                        <button class="buy-item-btn">–ö—É–ø–∏—Ç–∏ (1000 GPT)</button>
                    </div>
                    <div class="store-item" data-item-cost="750" data-item-type="xpBooster">
                        <h3>XP –ë—É—Å—Ç–µ—Ä (—Ö2 –Ω–∞ 5 —Ö–≤)</h3>
                        <p>–ü–æ–¥–≤–æ—é—î –æ—Ç—Ä–∏–º–∞–Ω–∏–π –¥–æ—Å–≤—ñ–¥ –Ω–∞ 5 —Ö–≤–∏–ª–∏–Ω.</p>
                        <button class="buy-item-btn">–ö—É–ø–∏—Ç–∏ (750 GPT)</button>
                    </div>
                </div>
            </div>

            <div class="section" id="quests" style="display:none;">
                <h2>–ö–≤–µ—Å—Ç–∏</h2>
                <p>–í–∏–∫–æ–Ω—É–π—Ç–µ —â–æ–¥–µ–Ω–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è —Ç–∞ –æ—Ç—Ä–∏–º—É–π—Ç–µ –Ω–∞–≥–æ—Ä–æ–¥–∏!</p>
                <div id="dailyQuestsContainer">
                    </div>
                <p class="note">–î–æ—Å—è–≥–Ω–µ–Ω–Ω—è –±—É–¥—É—Ç—å –¥–æ–¥–∞–Ω—ñ –≤ –º–∞–π–±—É—Ç–Ω—å–æ–º—É.</p>
            </div>

            <div class="section" id="leaderboards" style="display:none;">
                <h2>–õ—ñ–¥–µ—Ä–±–æ—Ä–¥–∏</h2>
                <p>–ü–æ—Ç–æ—á–Ω—ñ –ª—ñ–¥–µ—Ä–±–æ—Ä–¥–∏ (–ø–æ–∫–∏ —â–æ –∑–∞–≥–ª—É—à–∫–∞):</p>
                <ul>
                    <li>1. –í–∏ - <span id="myRankGPT">#1</span> (<span id="myGPT">0</span> GPT)</li>
                    <li>2. Player2 - 999999 GPT</li>
                    <li>3. Player3 - 888888 GPT</li>
                </ul>
                <p class="note">–î–ª—è –ø–æ–≤–Ω–æ—Ü—ñ–Ω–Ω–æ–≥–æ –ª—ñ–¥–µ—Ä–±–æ—Ä–¥—É –ø–æ—Ç—Ä—ñ–±–µ–Ω –±–µ–∫–µ–Ω–¥.</p>
            </div>

            <div class="section" id="ton" style="display:none;">
                <h2>TON</h2>
                <p>–ü—ñ–¥—Ç—Ä–∏–º–∞–π—Ç–µ —Ä–æ–∑—Ä–æ–±–∫—É –∞–±–æ –∫—É–ø—É–π—Ç–µ –ø—Ä–µ–º—ñ—É–º-–±–æ–Ω—É—Å–∏ –∑–∞ TON.</p>
                <p>–ù–∞–¥—ñ—à–ª—ñ—Ç—å TON –Ω–∞ –∞–¥—Ä–µ—Å—É –Ω–∏–∂—á–µ:</p>
                <div class="ton-address-box">
                    <span id="tonAddress">UQDYeuT1gu7HySLhdOUhfGlgM4NPIsZbmOTbnuW9z4N5NyVS</span>
                    <button class="copy-btn" onclick="copyTonAddress()">üìã –ö–æ–ø—ñ—é–≤–∞—Ç–∏</button>
                </div>
                <button class="tonkeeper-btn" onclick="openTonkeeper()">–û–ø–ª–∞—Ç–∏—Ç–∏ —á–µ—Ä–µ–∑ Tonkeeper</button>
                <p class="note">–í–∞—à –ø–ª–∞—Ç—ñ–∂ –±—É–¥–µ –ø–µ—Ä–µ–≤—ñ—Ä–µ–Ω–æ –≤—Ä—É—á–Ω—É. –ë—É–¥—å –ª–∞—Å–∫–∞, –≤–∫–∞–∑—É–π—Ç–µ —Å–≤—ñ–π —ñ–≥—Ä–æ–≤–∏–π ID –≤ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ!</p>
            </div>

            <div class="section" id="nft" style="display:none;">
                <h2>NFT</h2>
                <p>–¢—É—Ç –±—É–¥–µ –≤–∞—à–∞ –∫–æ–ª–µ–∫—Ü—ñ—è NFT.</p>
                <div class="nft-gallery">
                    <div class="nft-card">
                        <img src="https://i.ibb.co/p26WJ4B/nft-placeholder.png" alt="NFT Placeholder">
                        <h3>NFT –ó–∞–≥–æ–ª–æ–≤–æ–∫</h3>
                        <p>–û–ø–∏—Å –≤–∞—à–æ–≥–æ NFT.</p>
                    </div>
                </div>
                <p class="note">–ö–æ–ª–µ–∫—Ü—ñ—è NFT –±—É–¥–µ –¥–æ—Å—Ç—É–ø–Ω–∞ –Ω–∞ –≤–∏—â–∏—Ö —Ä—ñ–≤–Ω—è—Ö.</p>
            </div>

            <div class="section" id="presale" style="display:none;">
                <h2>üéÅ –ü—Ä—ñ—Å–µ–π–ª Toncoin</h2>
                <p>üöÄ –°–∫–æ—Ä–æ —Ç—É—Ç –±—É–¥–µ –¥–æ—Å—Ç—É–ø–Ω–∞ –µ–∫—Å–∫–ª—é–∑–∏–≤–Ω–∞ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –≤–∑—è—Ç–∏ —É—á–∞—Å—Ç—å —É –ø—Ä—ñ—Å–µ–π–ª—ñ Toncoin!</p>
                <p>–ë—É–¥—å—Ç–µ –≥–æ—Ç–æ–≤—ñ —ñ–Ω–≤–µ—Å—Ç—É–≤–∞—Ç–∏ —Ç–∞ –æ—Ç—Ä–∏–º–∞—Ç–∏ –±–æ–Ω—É—Å–∏ –¥–ª—è –º–∞–π–±—É—Ç–Ω—å–æ–≥–æ —Ä–æ–∑–≤–∏—Ç–∫—É –≤–∞—à–æ—ó —ñ–º–ø–µ—Ä—ñ—ó GPT.</p>
                <p>–°–ª—ñ–¥–∫—É–π—Ç–µ –∑–∞ –Ω–∞—à–∏–º–∏ –∞–Ω–æ–Ω—Å–∞–º–∏ –≤ –æ—Ñ—ñ—Ü—ñ–π–Ω–æ–º—É Telegram-–∫–∞–Ω–∞–ª—ñ, —â–æ–± –Ω–µ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç–∏ —Å—Ç–∞—Ä—Ç!</p>
                <p>üîî **–í–∞–∂–ª–∏–≤–æ:** –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –ø—Ä—ñ—Å–µ–π–ª –±—É–¥–µ –æ–ø—Ä–∏–ª—é–¥–Ω–µ–Ω–∞ –∑–∞–∑–¥–∞–ª–µ–≥—ñ–¥—å. –ù–µ –ø—Ä–æ–ø—É—Å—Ç—ñ—Ç—å —Å–≤—ñ–π —à–∞–Ω—Å!</p>
                <button onclick="window.open('https://t.me/your_telegram_channel', '_blank')">–ü—Ä–∏—î–¥–Ω–∞—Ç–∏—Å—è –¥–æ Telegram</button>
                <p class="note" style="color: #ff9900;">–¢—É—Ç –±—É–¥–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –æ—Ñ—ñ—Ü—ñ–π–Ω–∏–π –∫–∞–Ω–∞–ª –ø—Ä–æ–µ–∫—Ç—É.</p>
            </div>

            <div class="section" id="settings" style="display:none;">
                <h2>–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</h2>
                <p>–¢—É—Ç –≤–∏ –º–æ–∂–µ—Ç–µ –∑–º—ñ–Ω–∏—Ç–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≥—Ä–∏.</p>
                <button onclick="saveGameData()">–ó–±–µ—Ä–µ–≥—Ç–∏ –≥—Ä—É</button>
                <button onclick="resetGameData()">–°–∫–∏–Ω—É—Ç–∏ –≥—Ä—É</button>
                <p class="note">–ë—É–¥—å—Ç–µ –æ–±–µ—Ä–µ–∂–Ω—ñ, —Å–∫–∏–¥–∞–Ω–Ω—è –≥—Ä–∏ –≤–∏–¥–∞–ª–∏—Ç—å –≤–µ—Å—å –≤–∞—à –ø—Ä–æ–≥—Ä–µ—Å!</p>
            </div>

            <div class="section" id="notifications" style="display:none;">
                <h2>–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è</h2>
                <p>–£—Å—ñ –≤–∞—à—ñ —ñ–≥—Ä–æ–≤—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —Ç–∞ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è –±—É–¥—É—Ç—å —Ç—É—Ç.</p>
                <ul id="notificationList">
                    <li><small>2025-05-24 17:00</small> –õ–∞—Å–∫–∞–≤–æ –ø—Ä–æ—Å–∏–º–æ –¥–æ ClickGPT 5.0!</li>
                </ul>
            </div>

        </div>

        <div class="bottom-nav">
            <div class="nav-item active" data-tab="click">
                <img src="https://i.ibb.co/ZzF4M5w/ton-coin.png" alt="Click" class="nav-icon">
                <span>–ö–ª—ñ–∫</span>
            </div>
            <div class="nav-item" data-tab="exchange">
                <img src="https://i.ibb.co/zXn2w9d/exchange-icon.png" alt="Exchange" class="nav-icon">
                <span>–ë—ñ—Ä–∂–∞</span>
            </div>
            <div class="nav-item" data-tab="autogpt">
                <img src="https://i.ibb.co/3Wf4Q7x/autogpt-small-icon.png" alt="AutoGPT" class="nav-icon">
                <span>AutoGPT</span>
            </div>
            <div class="nav-item" data-tab="store">
                <img src="https://i.ibb.co/Q8Q40v2/store-icon.png" alt="Store" class="nav-icon">
                <span>–ú–∞–≥–∞–∑–∏–Ω</span>
            </div>
            <div class="nav-item" data-tab="more">
                <img src="https://i.ibb.co/y4L2jQG/more-icon.png" alt="More" class="nav-icon">
                <span>–ë—ñ–ª—å—à–µ</span>
            </div>
        </div>

        <div class="section" id="more" style="display:none;">
            <h2>–ë—ñ–ª—å—à–µ –æ–ø—Ü—ñ–π</h2>
            <div class="more-options-grid">
                <button class="tab-button" onclick="showTab('quests')">–ö–≤–µ—Å—Ç–∏</button>
                <button class="tab-button" onclick="showTab('leaderboards')">–õ—ñ–¥–µ—Ä–±–æ—Ä–¥–∏</button>
                <button class="tab-button" onclick="showTab('ton')">TON</button>
                <button class="tab-button" onclick="showTab('nft')">NFT</button>
                <button class="tab-button" onclick="showSettings()">–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</button>
                <button class="tab-button" onclick="showNotifications()">–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è</button>
                <button class="tab-button" onclick="showTab('presale')">üéÅ –ü—Ä—ñ—Å–µ–π–ª</button> </div>
        </div>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const startScreen = document.getElementById('startScreen');
            const startGameBtn = document.getElementById('startGameBtn');
            const gameContainer = document.getElementById('gameContainer');

            const gptCountElem = document.getElementById('gptCount');
            const tonCoin = document.getElementById('tonCoin');
            const autoGptRateElem = document.getElementById('autoGptRate');

            const playerLevelElem = document.getElementById('playerLevel');
            const levelProgressBar = document.getElementById('levelProgressBar');
            const energyBar = document.getElementById('energyBar');

            const navItems = document.querySelectorAll('.nav-item');
            const sections = document.querySelectorAll('.section');

            const upgradeList = document.querySelector('.upgrade-list');
            const storeGrid = document.querySelector('.store-grid');
            const notificationList = document.getElementById('notificationList');

            const marketplaceTabs = document.querySelector('.marketplace-tabs');
            const marketplaceCardsContainer = document.getElementById('marketplace-cards-container');

            const offlineMiningRateElem = document.getElementById('offlineMiningRate');
            const offlineBotLevelElem = document.getElementById('offlineBotLevel');
            const upgradeOfflineBotBtn = document.getElementById('upgradeOfflineBotBtn');
            const offlineBotCostElem = document.getElementById('offlineBotCost');

            const dailyQuestsContainer = document.getElementById('dailyQuestsContainer');
            const myRankGPTElem = document.getElementById('myRankGPT');
            const myGPTElem = document.getElementById('myGPT');

            // Audio elements
            const clickSound = document.getElementById('clickSound');
            const buySound = document.getElementById('buySound');


            // –î–∞–Ω—ñ –≥—Ä–∏
            let gameData = {
                gpt: 0,
                clickPower: 1, // –ë–∞–∑–æ–≤–∞ —Å–∏–ª–∞ –∫–ª—ñ–∫—É
                autoGptRate: 0, // –ó–≤–∏—á–∞–π–Ω–∏–π AutoGPT, —â–æ –ø—Ä–∞—Ü—é—î –≤ –æ–Ω–ª–∞–π–Ω—ñ
                energy: {
                    current: 100,
                    max: 100,
                    recoveryRate: 1 // 1 –µ–Ω–µ—Ä–≥—ñ—è –∫–æ–∂–Ω—ñ N —Å–µ–∫—É–Ω–¥
                },
                offlineBot: { // –ê–≤—Ç–æ–ë–æ—Ç –¥–ª—è –æ—Ñ–ª–∞–π–Ω-–º–∞–π–Ω—ñ–Ω–≥—É
                    level: 1,
                    miningRatePerHour: 0, // GPT/–≥–æ–¥
                    cost: 100, // –ü–æ—á–∞—Ç–∫–æ–≤–∞ –≤–∞—Ä—Ç—ñ—Å—Ç—å –≤ GPT
                    tonCost: 1 // –ü–æ—á–∞—Ç–∫–æ–≤–∞ –≤–∞—Ä—Ç—ñ—Å—Ç—å –≤ TON
                },
                level: 1,
                xp: 0,
                upgrades: {
                    baseAutoGpt: 0,
                    superMiner: 0,
                    quantumProcessor: 0,
                },
                items: {
                    clickBooster: 0, // –ó–±—ñ–ª—å—à—É—î –∫–ª—ñ–∫
                    energyBoost: 0, // –ó–±—ñ–ª—å—à—É—î –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É –µ–Ω–µ—Ä–≥—ñ—é
                    dailyBonusReset: 0, // –ú–∏—Ç—Ç—î–≤–µ –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è –µ–Ω–µ—Ä–≥—ñ—ó
                    xpBooster: 0, // –•2 XP
                },
                marketplaceCards: {}, // –ó–±–µ—Ä—ñ–≥–∞—î–º–æ —Ä—ñ–≤–Ω—ñ –ø—Ä–æ–∫–∞—á–∫–∏ –∫–∞—Ä—Ç–æ–∫
                notifications: [],
                lastActiveTime: Date.now(),
                gameStartTime: Date.now(), // –ß–∞—Å –ø–æ—á–∞—Ç–∫—É –≥—Ä–∏ –¥–ª—è —Ä–æ–∑–±–ª–æ–∫—É–≤–∞–Ω–Ω—è –∫–∞—Ä—Ç–æ–∫
                dailyQuests: [],
                lastDailyQuestReset: 0 // –ß–∞—Å –æ—Å—Ç–∞–Ω–Ω—å–æ–≥–æ —Å–∫–∏–¥–∞–Ω–Ω—è —â–æ–¥–µ–Ω–Ω–∏—Ö –∫–≤–µ—Å—Ç—ñ–≤
            };

            // –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è —Ä—ñ–≤–Ω—ñ–≤ XP
            const levelXpRequirements = {
                1: 100,
                2: 250,
                3: 500,
                4: 1000,
                5: 2000,
                6: 3500,
                7: 5500,
                8: 8000,
                9: 11000,
                10: 15000,
                // –î–æ–¥–∞–π—Ç–µ –±—ñ–ª—å—à–µ —Ä—ñ–≤–Ω—ñ–≤ –∑–∞ –ø–æ—Ç—Ä–µ–±–æ—é
            };

            // –î–∞–Ω—ñ –¥–ª—è –∫–∞—Ä—Ç–æ–∫ –º—ñ–Ω—ñ-–±—ñ—Ä–∂—ñ
            const marketplaceCardData = {
                crypto: [
                    { id: 'card-bitcoin', name: 'Bitcoin Alpha', effect: 'click power', baseCost: 500, unlockDays: 0, icon: '‚Çø', multiplier: 0.01 }, // 1% –¥–æ –∫–ª—ñ–∫—É
                    { id: 'card-ethereum', name: 'Ethereum Bridge', effect: 'auto GPT', baseCost: 600, unlockDays: 0, icon: 'Œû', multiplier: 0.01 }, // 1% –¥–æ –∞–≤—Ç–æ-GPT
                    { id: 'card-solana', name: 'Solana Speed', effect: 'XP gain', baseCost: 700, unlockDays: 1, icon: '‚òÄÔ∏è', multiplier: 0.05 }, // 5% –¥–æ XP
                    { id: 'card-ton', name: 'TON Ecosystem', effect: 'offline mining', baseCost: 800, unlockDays: 1, icon: 'üíé', multiplier: 0.05 }, // 5% –¥–æ –æ—Ñ–ª–∞–π–Ω –º–∞–π–Ω—ñ–Ω–≥—É
                    { id: 'card-binance', name: 'Binance Smart Chain', effect: 'click power', baseCost: 900, unlockDays: 2, icon: 'üîó', multiplier: 0.01 },
                    { id: 'card-polkadot', name: 'Polkadot Interchain', effect: 'auto GPT', baseCost: 950, unlockDays: 3, icon: '‚ö™', multiplier: 0.01 },
                    { id: 'card-cardano', name: 'Cardano PoS', effect: 'XP gain', baseCost: 1000, unlockDays: 4, icon: '‚Ç≥', multiplier: 0.05 },
                    { id: 'card-ripple', name: 'Ripple Transaction', effect: 'offline mining', baseCost: 1100, unlockDays: 5, icon: ' XRP', multiplier: 0.05 },
                    { id: 'card-litecoin', name: 'Litecoin Silver', effect: 'click power', baseCost: 800, unlockDays: 6, icon: '≈Å', multiplier: 0.01 },
                    { id: 'card-dogecoin-crypto', name: 'Dogecoin (Crypto)', effect: 'XP gain', baseCost: 700, unlockDays: 7, icon: 'üê∂', multiplier: 0.05 },
                    // 10 –∫–∞—Ä—Ç–æ–∫
                ],
                ai: [
                    { id: 'card-chatgpt', name: 'ChatGPT Insights', effect: 'auto GPT', baseCost: 1000, unlockDays: 0, icon: 'ü§ñ', multiplier: 0.02 },
                    { id: 'card-gemini', name: 'Gemini Synergy', effect: 'offline mining', baseCost: 1200, unlockDays: 1, icon: '‚ôä', multiplier: 0.07 },
                    { id: 'card-midjourney', name: 'Midjourney Art', effect: 'click power', baseCost: 1500, unlockDays: 2, icon: 'üñºÔ∏è', multiplier: 0.02 },
                    { id: 'card-neuralink', name: 'Neuralink Connect', effect: 'XP gain', baseCost: 1800, unlockDays: 3, icon: 'üß†', multiplier: 0.1 },
                    { id: 'card-deepmind', name: 'DeepMind Core', effect: 'auto GPT', baseCost: 2000, unlockDays: 4, icon: '‚öõÔ∏è', multiplier: 0.02 },
                    { id: 'card-openai-api', name: 'OpenAI API', effect: 'click power', baseCost: 1700, unlockDays: 5, icon: '‚òÅÔ∏è', multiplier: 0.02 },
                    { id: 'card-alphago', name: 'AlphaGo Logic', effect: 'offline mining', baseCost: 1900, unlockDays: 6, icon: '‚ôüÔ∏è', multiplier: 0.07 },
                    { id: 'card-gpt-vision', name: 'GPT Vision', effect: 'XP gain', baseCost: 2100, unlockDays: 7, icon: 'üëÅÔ∏è', multiplier: 0.1 },
                    { id: 'card-huggingface', name: 'Hugging Face Hub', effect: 'auto GPT', baseCost: 2300, unlockDays: 8, icon: 'ü§ó', multiplier: 0.02 },
                    { id: 'card-nvidia-gpu', name: 'NVIDIA GPU Farm', effect: 'click power', baseCost: 2500, unlockDays: 9, icon: '‚ö°', multiplier: 0.02 },
                    // 10 –∫–∞—Ä—Ç–æ–∫
                ],
                meme: [
                    { id: 'card-dogecoin-meme', name: 'Doge Mania', effect: 'XP gain', baseCost: 300, unlockDays: 0, icon: 'üêï', multiplier: 0.07 },
                    { id: 'card-shiba', name: 'Shiba Inu Frenzy', effect: 'click power', baseCost: 350, unlockDays: 1, icon: 'üê∂', multiplier: 0.005 },
                    { id: 'card-pepe', name: 'Pepe Coin', effect: 'auto GPT', baseCost: 400, unlockDays: 2, icon: 'üê∏', multiplier: 0.005 },
                    { id: 'card-floki', name: 'Floki Viking', effect: 'offline mining', baseCost: 450, unlockDays: 3, icon: 'üê∫', multiplier: 0.02 },
                    { id: 'card-bonk', name: 'Bonk Dog', effect: 'click power', baseCost: 500, unlockDays: 4, icon: 'ü¶¥', multiplier: 0.005 },
                    { id: 'card-wif', name: 'Dogwifhat', effect: 'XP gain', baseCost: 550, unlockDays: 5, icon: 'üé©', multiplier: 0.07 },
                    { id: 'card-meme-ai', name: 'Meme AI Gen', effect: 'auto GPT', baseCost: 600, unlockDays: 6, icon: 'üòÇ', multiplier: 0.005 },
                    { id: 'card-grumpy-cat', name: 'Grumpy Cat Coin', effect: 'offline mining', baseCost: 650, unlockDays: 7, icon: 'üòæ', multiplier: 0.02 },
                    { id: 'card-elon-tweet', name: 'Elon Tweet Power', effect: 'click power', baseCost: 700, unlockDays: 8, icon: 'üê¶', multiplier: 0.005 },
                    { id: 'card-nfts', name: 'NFT Meme Collection', effect: 'XP gain', baseCost: 750, unlockDays: 9, icon: 'üñºÔ∏è', multiplier: 0.07 },
                    // 10 –∫–∞—Ä—Ç–æ–∫
                ],
                social: [
                    { id: 'card-telegram', name: 'Telegram Channel', effect: 'auto GPT', baseCost: 700, unlockDays: 0, icon: '‚úàÔ∏è', multiplier: 0.015 },
                    { id: 'card-influencer', name: 'Influencer Boost', effect: 'offline mining', baseCost: 800, unlockDays: 1, icon: '‚≠ê', multiplier: 0.06 },
                    { id: 'card-ton-community', name: 'TON Community', effect: 'XP gain', baseCost: 900, unlockDays: 2, icon: 'üë•', multiplier: 0.08 },
                    { id: 'card-discord', name: 'Discord Server', effect: 'click power', baseCost: 750, unlockDays: 3, icon: 'üí¨', multiplier: 0.015 },
                    { id: 'card-youtube', name: 'YouTube Analytics', effect: 'auto GPT', baseCost: 850, unlockDays: 4, icon: '‚ñ∂Ô∏è', multiplier: 0.015 },
                    { id: 'card-binance-exchange', name: 'Binance Exchange', effect: 'offline mining', baseCost: 950, unlockDays: 5, icon: 'üìà', multiplier: 0.06 },
                    { id: 'card-bybit', name: 'Bybit Signals', effect: 'XP gain', baseCost: 1050, unlockDays: 6, icon: 'üìä', multiplier: 0.08 },
                    { id: 'card-twitter-x', name: 'Twitter (X) Hype', effect: 'click power', baseCost: 1150, unlockDays: 7, icon: '‚úñÔ∏è', multiplier: 0.015 },
                    { id: 'card-reddit', name: 'Reddit Forum', effect: 'auto GPT', baseCost: 1250, unlockDays: 8, icon: 'üëΩ', multiplier: 0.015 },
                    { id: 'card-okx', name: 'OKX Ventures', effect: 'offline mining', baseCost: 1350, unlockDays: 9, icon: 'üíπ', multiplier: 0.06 },
                    // 10 –∫–∞—Ä—Ç–æ–∫
                ]
            };

            // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è —Ä—ñ–≤–Ω—ñ–≤ –∫–∞—Ä—Ç–æ–∫ —É gameData
            for (const category in marketplaceCardData) {
                marketplaceCardData[category].forEach(card => {
                    if (!gameData.marketplaceCards[card.id]) {
                        gameData.marketplaceCards[card.id] = { level: 0, lastUnlockedTime: gameData.gameStartTime };
                    }
                });
            }

            // –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è —â–æ–¥–µ–Ω–Ω–∏—Ö –∫–≤–µ—Å—Ç—ñ–≤
            const dailyQuestTemplates = [
                { id: 'quest-1', name: '–ó—Ä–æ–±–∏—Ç–∏ 100 –∫–ª—ñ–∫—ñ–≤', type: 'clicks', target: 100, rewardGPT: 50, rewardXP: 10, currentProgress: 0, completed: false },
                { id: 'quest-2', name: '–ó–∞—Ä–æ–±–∏—Ç–∏ 500 GPT –∫–ª—ñ–∫–∞–º–∏', type: 'gptFromClicks', target: 500, rewardGPT: 100, rewardXP: 20, currentProgress: 0, completed: false },
                { id: 'quest-3', name: '–ü–æ–∫—Ä–∞—â–∏—Ç–∏ AutoGPT 1 —Ä–∞–∑', type: 'upgradeAutoGPT', target: 1, rewardGPT: 150, rewardXP: 30, currentProgress: 0, completed: false },
                { id: 'quest-4', name: '–ü—Ä–∏–¥–±–∞—Ç–∏ –∫–∞—Ä—Ç–∫—É –Ω–∞ –±—ñ—Ä–∂—ñ', type: 'buyMarketCard', target: 1, rewardGPT: 200, rewardXP: 40, currentProgress: 0, completed: false },
                { id: 'quest-5', name: '–ü—Ä–æ–∫–∞—á–∞—Ç–∏ –ê–≤—Ç–æ–ë–æ—Ç–∞ 1 —Ä–∞–∑', type: 'upgradeOfflineBot', target: 1, rewardGPT: 250, rewardXP: 50, currentProgress: 0, completed: false },
            ];

            // –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É
            function updateUI() {
                gptCountElem.textContent = Math.floor(gameData.gpt);
                autoGptRateElem.textContent = gameData.autoGptRate.toFixed(1); // –î–æ 1 –∑–Ω–∞–∫–∞ –ø—ñ—Å–ª—è –∫–æ–º–∏

                // –û–Ω–æ–≤–ª–µ–Ω–Ω—è XP —Ç–∞ —Ä—ñ–≤–Ω—è
                playerLevelElem.textContent = gameData.level;
                const currentLevelXpNeeded = levelXpRequirements[gameData.level] || Infinity;
                const progressPercent = (gameData.xp / currentLevelXpNeeded) * 100;
                levelProgressBar.style.width = `${Math.min(progressPercent, 100)}%`;
                levelProgressBar.textContent = `${Math.floor(gameData.xp)} / ${currentLevelXpNeeded} XP`;

                // –û–Ω–æ–≤–ª–µ–Ω–Ω—è –µ–Ω–µ—Ä–≥—ñ—ó
                energyBar.style.width = `${(gameData.energy.current / gameData.energy.max) * 100}%`;

                // –û–Ω–æ–≤–∏—Ç–∏ —Å—Ç–∞–Ω –∫–Ω–æ–ø–æ–∫ –ø–æ–∫—Ä–∞—â–µ–Ω—å AutoGPT (–∑–≤–∏—á–∞–π–Ω–æ—ó)
                document.querySelectorAll('.upgrade-item .buy-upgrade-btn').forEach(button => {
                    const upgradeItem = button.closest('.upgrade-item');
                    const cost = parseInt(upgradeItem.dataset.upgradeCost);
                    button.disabled = gameData.gpt < cost;
                    button.textContent = `–ü–æ–∫—Ä–∞—â–∏—Ç–∏ (${cost} GPT)`;
                });

                // –û–Ω–æ–≤–∏—Ç–∏ —Å—Ç–∞–Ω –∫–Ω–æ–ø–æ–∫ –º–∞–≥–∞–∑–∏–Ω—É
                document.querySelectorAll('.store-item .buy-item-btn').forEach(button => {
                    const storeItem = button.closest('.store-item');
                    const cost = parseInt(storeItem.dataset.itemCost);
                    const itemType = storeItem.dataset.itemType;
                    // –û—Å–æ–±–ª–∏–≤–∞ –ª–æ–≥—ñ–∫–∞ –¥–ª—è "–ú–∏—Ç—Ç—î–≤–µ –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è –µ–Ω–µ—Ä–≥—ñ—ó"
                    if (itemType === 'dailyBonusReset' && gameData.energy.current === gameData.energy.max) {
                        button.disabled = true;
                        button.textContent = `–ï–Ω–µ—Ä–≥—ñ—è –ø–æ–≤–Ω–∞`;
                    } else {
                        button.disabled = gameData.gpt < cost;
                        button.textContent = `–ö—É–ø–∏—Ç–∏ (${cost} GPT)`;
                    }
                });

                // –û–Ω–æ–≤–ª–µ–Ω–Ω—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ –ê–≤—Ç–æ–ë–æ—Ç–∞
                offlineMiningRateElem.textContent = gameData.offlineBot.miningRatePerHour.toFixed(1);
                offlineBotLevelElem.textContent = gameData.offlineBot.level;
                offlineBotCostElem.textContent = gameData.offlineBot.cost;

                // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤–∞—Ä—Ç–æ—Å—Ç—ñ –¥–ª—è –ê–≤—Ç–æ–ë–æ—Ç–∞
                const isTONLevel = gameData.offlineBot.level >= 6;
                if (isTONLevel) {
                    upgradeOfflineBotBtn.textContent = `–ü–æ–∫—Ä–∞—â–∏—Ç–∏ (${gameData.offlineBot.tonCost} TON)`;
                    upgradeOfflineBotBtn.classList.add('buy-ton');
                    upgradeOfflineBotBtn.disabled = false; // –ö–Ω–æ–ø–∫–∞ –∑–∞–≤–∂–¥–∏ –∞–∫—Ç–∏–≤–Ω–∞ –¥–ª—è TON, –æ—Å–∫—ñ–ª—å–∫–∏ —Ü–µ —Ä–µ–∞–ª—å–Ω–∞ –æ–ø–ª–∞—Ç–∞
                } else {
                    upgradeOfflineBotBtn.textContent = `–ü–æ–∫—Ä–∞—â–∏—Ç–∏ (${gameData.offlineBot.cost} GPT)`;
                    upgradeOfflineBotBtn.classList.remove('buy-ton');
                    upgradeOfflineBotBtn.disabled = gameData.gpt < gameData.offlineBot.cost;
                }

                // –û–Ω–æ–≤–ª–µ–Ω–Ω—è –ª—ñ–¥–µ—Ä–±–æ—Ä–¥—É (–∑–∞–≥–ª—É—à–∫–∞)
                myRankGPTElem.textContent = `#1`; // –ü–æ–∫–∏ —â–æ –∑–∞–≤–∂–¥–∏ #1
                myGPTElem.textContent = Math.floor(gameData.gpt);


                // –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∫–∞—Ä—Ç–æ–∫, —è–∫—â–æ –∞–∫—Ç–∏–≤–Ω–∞ –≤–∫–ª–∞–¥–∫–∞ "–ë—ñ—Ä–∂–∞"
                if (document.getElementById('exchange').style.display === 'block') {
                    renderMarketplaceCards(document.querySelector('.marketplace-tabs button.active').dataset.marketTab);
                }
                // –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∫–≤–µ—Å—Ç—ñ–≤, —è–∫—â–æ –∞–∫—Ç–∏–≤–Ω–∞ –≤–∫–ª–∞–¥–∫–∞ "–ö–≤–µ—Å—Ç–∏"
                if (document.getElementById('quests').style.display === 'block') {
                    renderDailyQuests();
                }
            }

            // –î–æ–¥–∞–≤–∞–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
            function addNotification(message, type = "info") {
                const timestamp = new Date().toLocaleString('uk-UA', { dateStyle: 'short', timeStyle: 'short' });
                const notificationHTML = `<li><small>${timestamp}</small> ${message}</li>`;
                notificationList.insertAdjacentHTML('afterbegin', notificationHTML); // –î–æ–¥–∞—î–º–æ –Ω–∞ –ø–æ—á–∞—Ç–æ–∫
                gameData.notifications.unshift({ timestamp: timestamp, message: message, type: type });
                if (gameData.notifications.length > 20) { // –û–±–º–µ–∂–∏—Ç–∏ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
                    gameData.notifications.pop();
                    notificationList.lastElementChild.remove();
                }
                saveGameData();
            }

            // –ó–±—ñ–ª—å—à–µ–Ω–Ω—è GPT –∑–∞ –∫–ª—ñ–∫
            function clickTonCoin(event) {
                if (gameData.energy.current <= 0) {
                    addNotification("–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –µ–Ω–µ—Ä–≥—ñ—ó! –ó–∞—á–µ–∫–∞–π—Ç–µ –∞–±–æ –ø—Ä–∏–¥–±–∞–π—Ç–µ –±—É—Å—Ç.", "error");
                    return;
                }

                if (clickSound) {
                    clickSound.currentTime = 0; // Rewind to the start for quick successive plays
                    clickSound.play().catch(e => console.log("Click sound play failed:", e));
                }

                gameData.energy.current--; // –í–∏—Ç—Ä–∞—á–∞—î–º–æ –µ–Ω–µ—Ä–≥—ñ—é

                let earnedGPT = gameData.clickPower;
                let earnedXP = 1; // –ö–æ–∂–µ–Ω –∫–ª—ñ–∫ –¥–∞—î 1 XP

                // –ó–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ –±—É—Å—Ç–µ—Ä XP, —è–∫—â–æ –∞–∫—Ç–∏–≤–Ω–∏–π
                if (gameData.items.xpBooster > 0) { // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞ –∞–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å XP –±—É—Å—Ç–µ—Ä–∞
                    earnedXP *= 2;
                }

                gameData.gpt += earnedGPT;
                gameData.xp += earnedXP;

                // –û–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–æ–≥—Ä–µ—Å—É –∫–≤–µ—Å—Ç—ñ–≤
                updateQuestProgress('clicks', 1);
                updateQuestProgress('gptFromClicks', earnedGPT);

                // –ê–Ω—ñ–º–∞—Ü—ñ—è —á–∏—Å–ª–∞
                const clickAnim = document.createElement('div');
                clickAnim.textContent = `+${earnedGPT}`;
                clickAnim.classList.add('click-animation');
                document.body.appendChild(clickAnim);

                const rect = tonCoin.getBoundingClientRect();
                clickAnim.style.left = `${event.clientX}px`;
                clickAnim.style.top = `${event.clientY - 30}px`; // –ó–º—ñ—â–µ–Ω–æ —Ç—Ä–æ—Ö–∏ –≤–≥–æ—Ä—É

                setTimeout(() => {
                    clickAnim.remove();
                }, 800);

                checkLevelUp();
                updateUI();
                saveGameData();
            }

            // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ä—ñ–≤–Ω—è
            function checkLevelUp() {
                const currentLevelXpNeeded = levelXpRequirements[gameData.level];
                if (gameData.xp >= currentLevelXpNeeded && currentLevelXpNeeded !== undefined) {
                    gameData.level++;
                    gameData.xp -= currentLevelXpNeeded; // –ó–∞–ª–∏—à–æ–∫ XP –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—å—Å—è
                    addNotification(`–í—ñ—Ç–∞—î–º–æ! –í–∏ –¥–æ—Å—è–≥–ª–∏ —Ä—ñ–≤–Ω—è ${gameData.level}!`);
                    checkLevelUp(); // –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —è–∫—â–æ –≤–∏—Å—Ç–∞—á–∏–ª–æ XP –Ω–∞ –∫—ñ–ª—å–∫–∞ —Ä—ñ–≤–Ω—ñ–≤
                }
            }

            // –í—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è –µ–Ω–µ—Ä–≥—ñ—ó
            function recoverEnergy() {
                if (gameData.energy.current < gameData.energy.max) {
                    gameData.energy.current += gameData.energy.recoveryRate;
                    if (gameData.energy.current > gameData.energy.max) {
                        gameData.energy.current = gameData.energy.max;
                    }
                    updateUI();
                }
            }

            // –ü–∞—Å–∏–≤–Ω–∏–π –¥–æ—Ö—ñ–¥ –≤—ñ–¥ AutoGPT (–æ–Ω–ª–∞–π–Ω)
            function autoGptTick() {
                gameData.gpt += gameData.autoGptRate;
                updateUI();
                saveGameData(); // –ó–±–µ—Ä—ñ–≥–∞—î–º–æ —á–∞—Å—Ç—ñ—à–µ –¥–ª—è –ø–∞—Å–∏–≤–Ω–æ–≥–æ –¥–æ—Ö–æ–¥—É
            }

            // –ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è –ê–≤—Ç–æ–ë–æ—Ç–∞ (–æ—Ñ–ª–∞–π–Ω)
            function upgradeOfflineBot() {
                let cost = gameData.offlineBot.cost;
                let isTONLevel = gameData.offlineBot.level >= 6;

                if (isTONLevel) {
                    // –¶–µ "–∫—É–ø—ñ–≤–ª—è" –∑–∞ TON. –í —Ä–µ–∞–ª—å–Ω—ñ–π –≥—Ä—ñ —Ç—É—Ç –±—É–ª–∞ –± —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ –ø–ª–∞—Ç—ñ–∂–Ω–∏–º —à–ª—é–∑–æ–º.
                    // –î–ª—è —Å–∏–º—É–ª—è—Ü—ñ—ó –ø—Ä–æ—Å—Ç–æ —Ä–æ–±–∏–º–æ –≤–∏–≥–ª—è–¥, —â–æ –æ–ø–ª–∞—Ç–∞ –ø—Ä–æ–π—à–ª–∞.
                    if (confirm(`–î–ª—è –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è –ê–≤—Ç–æ–ë–æ—Ç–∞ –¥–æ —Ä—ñ–≤–Ω—è ${gameData.offlineBot.level + 1} –ø–æ—Ç—Ä—ñ–±–Ω–æ ${gameData.offlineBot.tonCost} TON. –í–∏ –≤–ø–µ–≤–Ω–µ–Ω—ñ? (–¶–µ —Å–∏–º—É–ª—è—Ü—ñ—è –æ–ø–ª–∞—Ç–∏ TON)`)) {
                        gameData.offlineBot.level++;
                        gameData.offlineBot.miningRatePerHour += 5000; // –ó–±—ñ–ª—å—à–µ–Ω–Ω—è –Ω–∞ 5000 GPT/–≥–æ–¥ –∑–∞ TON-—Ä—ñ–≤–µ–Ω—å
                        gameData.offlineBot.tonCost = parseFloat((gameData.offlineBot.tonCost * 1.5).toFixed(2)); // –ó–±—ñ–ª—å—à—É—î–º–æ TON –≤–∞—Ä—Ç—ñ—Å—Ç—å, –æ–∫—Ä—É–≥–ª—è—î–º–æ
                        addNotification(`–ê–≤—Ç–æ–ë–æ—Ç–∞ –ø–æ–∫—Ä–∞—â–µ–Ω–æ –¥–æ —Ä—ñ–≤–Ω—è ${gameData.offlineBot.level} –∑–∞ TON!`);
                        updateQuestProgress('upgradeOfflineBot', 1); // –û–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–≤–µ—Å—Ç—É
                        if (buySound) { // <-- –î–æ–¥–∞–π—Ç–µ —Ç—É—Ç
                            buySound.currentTime = 0;
                            buySound.play().catch(e => console.log("Buy sound play failed:", e));
                        }
                    } else {
                        addNotification("–ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è —Å–∫–∞—Å–æ–≤–∞–Ω–æ.", "info");
                        return;
                    }
                } else {
                    if (gameData.gpt >= cost) {
                        gameData.gpt -= cost;
                        gameData.offlineBot.level++;
                        gameData.offlineBot.miningRatePerHour += 500; // –ó–±—ñ–ª—å—à–µ–Ω–Ω—è –Ω–∞ 500 GPT/–≥–æ–¥ –∑–∞ GPT-—Ä—ñ–≤–µ–Ω—å
                        gameData.offlineBot.cost = Math.ceil(gameData.offlineBot.cost * 1.2); // –ó–±—ñ–ª—å—à—É—î–º–æ GPT –≤–∞—Ä—Ç—ñ—Å—Ç—å
                        addNotification(`–ê–≤—Ç–æ–ë–æ—Ç–∞ –ø–æ–∫—Ä–∞—â–µ–Ω–æ –¥–æ —Ä—ñ–≤–Ω—è ${gameData.offlineBot.level} –∑–∞ GPT!`);
                        updateQuestProgress('upgradeOfflineBot', 1); // –û–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–≤–µ—Å—Ç—É
                        if (buySound) { // <-- –î–æ–¥–∞–π—Ç–µ —Ç—É—Ç
                            buySound.currentTime = 0;
                            buySound.play().catch(e => console.log("Buy sound play failed:", e));
                        }
                    } else {
                        addNotification("–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ GPT –¥–ª—è –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è –ê–≤—Ç–æ–ë–æ—Ç–∞!", "error");
                        return;
                    }
                }
                updateUI();
                saveGameData();
            }

            // –ö—É–ø—ñ–≤–ª—è –ø–æ–∫—Ä–∞—â–µ–Ω—å AutoGPT (–∑–≤–∏—á–∞–π–Ω–æ—ó)
            function buyUpgrade(event) {
                const button = event.target;
                const upgradeItem = button.closest('.upgrade-item');
                if (!upgradeItem) return;

                const cost = parseInt(upgradeItem.dataset.upgradeCost);
                const rateIncrease = parseInt(upgradeItem.dataset.upgradeRate);
                const upgradeType = upgradeItem.dataset.upgradeType;

                if (gameData.gpt >= cost) {
                    gameData.gpt -= cost;
                    // –û–Ω–æ–≤–ª—é—î–º–æ –±–∞–∑–æ–≤–∏–π AutoGPT rate, –ø–æ—Ç—ñ–º –∑–∞—Å—Ç–æ—Å–æ–≤—É—î–º–æ –º–Ω–æ–∂–Ω–∏–∫–∏ –∫–∞—Ä—Ç–æ–∫
                    gameData.upgrades[upgradeType]++;
                    applyCardEffects(); // –ü–µ—Ä–µ—Ä–∞—Ö–æ–≤—É—î–º–æ –≤—Å—ñ –µ—Ñ–µ–∫—Ç–∏
                    addNotification(`–í–∏ –ø–æ–∫—Ä–∞—â–∏–ª–∏ "${upgradeItem.querySelector('h3').textContent}"! AutoGPT –∑–±—ñ–ª—å—à–µ–Ω–æ.`);
                    updateQuestProgress('upgradeAutoGPT', 1); // –û–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–≤–µ—Å—Ç—É
                    if (buySound) { // <-- –î–æ–¥–∞–π—Ç–µ —Ç—É—Ç
                        buySound.currentTime = 0;
                        buySound.play().catch(e => console.log("Buy sound play failed:", e));
                    }
                    updateUI();
                    saveGameData();
                } else {
                    addNotification("–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ GPT –¥–ª—è –ø–æ–∫—É–ø–∫–∏!", "error");
                }
            }

            // –ö—É–ø—ñ–≤–ª—è –ø—Ä–µ–¥–º–µ—Ç—ñ–≤ –∑ –º–∞–≥–∞–∑–∏–Ω—É
            function buyItem(event) {
                const button = event.target;
                const storeItem = button.closest('.store-item');
                if (!storeItem) return;

                const cost = parseInt(storeItem.dataset.itemCost);
                const itemType = storeItem.dataset.itemType;

                if (gameData.gpt >= cost) {
                    gameData.gpt -= cost;
                    gameData.items[itemType]++; // –ó–±—ñ–ª—å—à—É—î–º–æ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø—Ä–∏–¥–±–∞–Ω–æ–≥–æ –ø—Ä–µ–¥–º–µ—Ç–∞

                    switch (itemType) {
                        case 'clickBooster':
                            // gameData.clickPower –≤–∂–µ –æ–Ω–æ–≤–ª—é—î—Ç—å—Å—è —á–µ—Ä–µ–∑ applyCardEffects()
                            addNotification("–í–∏ –∫—É–ø–∏–ª–∏ –ü—Ä–∏—Å–∫–æ—Ä—é–≤–∞—á –∫–ª—ñ–∫—ñ–≤! –¢–µ–ø–µ—Ä –∫–æ–∂–µ–Ω –∫–ª—ñ–∫ –ø—Ä–∏–Ω–æ—Å–∏—Ç—å –±—ñ–ª—å—à–µ GPT.");
                            break;
                        case 'energyBoost':
                            gameData.energy.max = Math.round(gameData.energy.max * 1.2); // –ó–±—ñ–ª—å—à—É—î–º–æ –º–∞–∫—Å. –µ–Ω–µ—Ä–≥—ñ—é –Ω–∞ 20%
                            gameData.energy.current = gameData.energy.max; // –ó–∞–ø–æ–≤–Ω—é—î–º–æ –¥–æ –º–∞–∫—Å–∏–º—É–º—É
                            addNotification("–í–∏ –∫—É–ø–∏–ª–∏ –ï–Ω–µ—Ä–≥–µ—Ç–∏—á–Ω–∏–π –±—É—Å—Ç! –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –µ–Ω–µ—Ä–≥—ñ—è –∑–±—ñ–ª—å—à–µ–Ω–∞.");
                            break;
                        case 'dailyBonusReset':
                            gameData.energy.current = gameData.energy.max; // –ú–∏—Ç—Ç—î–≤–æ –≤—ñ–¥–Ω–æ–≤–ª—é—î –µ–Ω–µ—Ä–≥—ñ—é
                            addNotification("–ï–Ω–µ—Ä–≥—ñ—è –ø–æ–≤–Ω—ñ—Å—Ç—é –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–∞!");
                            break;
                        case 'xpBooster':
                            // –ê–∫—Ç–∏–≤–∞—Ü—ñ—è XP –±—É—Å—Ç–µ—Ä–∞
                            gameData.xpMultiplier = 2; // –í—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ –º–Ω–æ–∂–Ω–∏–∫
                            addNotification("–í–∏ –∞–∫—Ç–∏–≤—É–≤–∞–ª–∏ XP –ë—É—Å—Ç–µ—Ä! –î–æ—Å–≤—ñ–¥ –ø–æ–¥–≤–æ—é—î—Ç—å—Å—è –Ω–∞ 5 —Ö–≤–∏–ª–∏–Ω.");
                            setTimeout(() => {
                                gameData.xpMultiplier = 1; // –í–∏–º–∏–∫–∞—î–º–æ –±—É—Å—Ç–µ—Ä —á–µ—Ä–µ–∑ 5 —Ö–≤–∏–ª–∏–Ω
                                addNotification("–î—ñ—è XP –ë—É—Å—Ç–µ—Ä–∞ –∑–∞–∫—ñ–Ω—á–∏–ª–∞—Å—è.", "info");
                                updateUI();
                                saveGameData();
                            }, 5 * 60 * 1000); // 5 —Ö–≤–∏–ª–∏–Ω
                            break;
                    }
                    if (buySound) { // <-- –î–æ–¥–∞–π—Ç–µ —Ç—É—Ç
                        buySound.currentTime = 0;
                        buySound.play().catch(e => console.log("Buy sound play failed:", e));
                    }
                    applyCardEffects(); // –ó–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ –æ–Ω–æ–≤–ª–µ–Ω—ñ –µ—Ñ–µ–∫—Ç–∏ (–æ—Å–æ–±–ª–∏–≤–æ –¥–ª—è clickBooster)
                    updateUI();
                    saveGameData();
                } else {
                    addNotification("–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ GPT –¥–ª—è –ø–æ–∫—É–ø–∫–∏!", "error");
                }
            }

            // === –ú—ñ–Ω—ñ-–±—ñ—Ä–∂–∞ (–ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å) –§—É–Ω–∫—Ü—ñ—ó ===

            // –§—É–Ω–∫—Ü—ñ—è –¥–ª—è —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—É –≤–∞—Ä—Ç–æ—Å—Ç—ñ —Ç–∞ –µ—Ñ–µ–∫—Ç—É –∫–∞—Ä—Ç–∫–∏ –Ω–∞ –ø–µ–≤–Ω–æ–º—É —Ä—ñ–≤–Ω—ñ
            function getCardStats(cardId, level) {
                const card = Object.values(marketplaceCardData).flat().find(c => c.id === cardId);
                if (!card) return null;

                let cost;
                let effectValue; // –í–µ–ª–∏—á–∏–Ω–∞ –µ—Ñ–µ–∫—Ç—É
                let costType; // "gpt" –∞–±–æ "ton"

                if (level <= 5) {
                    cost = card.baseCost * Math.pow(1.5, level - 1); // –ó–±—ñ–ª—å—à–µ–Ω–Ω—è –≤–∞—Ä—Ç–æ—Å—Ç—ñ –∑–∞ GPT
                    costType = 'gpt';
                    effectValue = card.multiplier * level; // –ú–Ω–æ–∂–Ω–∏–∫ * —Ä—ñ–≤–µ–Ω—å
                } else {
                    cost = 0.05 * Math.pow(2, level - 6); // –ü–æ—á–∞—Ç–∫–æ–≤–∞ –≤–∞—Ä—Ç—ñ—Å—Ç—å TON, –∑–±—ñ–ª—å—à—É—î—Ç—å—Å—è –µ–∫—Å–ø–æ–Ω–µ–Ω—Ü—ñ–π–Ω–æ
                    cost = parseFloat(cost.toFixed(2)); // –û–∫—Ä—É–≥–ª—è—î–º–æ –¥–æ 2 –∑–Ω–∞–∫—ñ–≤ –ø—ñ—Å–ª—è –∫–æ–º–∏
                    costType = 'ton';
                    effectValue = card.multiplier * (level - 5) * 5; // –ó–Ω–∞—á–Ω–æ –±—ñ–ª—å—à–∏–π –µ—Ñ–µ–∫—Ç –∑–∞ TON-—Ä—ñ–≤–Ω—ñ
                }
                // –§–æ—Ä–º–∞—Ç—É—î–º–æ –µ—Ñ–µ–∫—Ç –¥–ª—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è
                let formattedEffect;
                if (card.effect.includes('XP')) {
                    formattedEffect = `+${(effectValue * 100).toFixed(1)}% –¥–æ XP`;
                } else if (card.effect.includes('offline')) {
                    formattedEffect = `+${Math.floor(effectValue * 10000)} GPT/–≥–æ–¥`; // –ü–µ—Ä–µ–≤–æ–¥–∏–º–æ —É GPT/–≥–æ–¥
                }
                else {
                    formattedEffect = `+${(effectValue * 100).toFixed(1)}% –¥–æ ${card.effect}`;
                }


                return { cost: Math.floor(cost), effectValue, costType, effectText: formattedEffect };
            }

            // –û–Ω–æ–≤–ª–µ–Ω–Ω—è –µ—Ñ–µ–∫—Ç—ñ–≤ –≤—ñ–¥ –∫–∞—Ä—Ç–æ–∫ —Ç–∞ –±–∞–∑–æ–≤–∏—Ö –ø–æ–∫—Ä–∞—â–µ–Ω—å
            function applyCardEffects() {
                // –°–∫–∏–¥–∞—î–º–æ –±–∞–∑–æ–≤—ñ –∑–Ω–∞—á–µ–Ω–Ω—è
                let baseClickPower = 1;
                let baseAutoGptRate = 0;
                let baseOfflineMiningRate = 0;
                let baseXPMultiplier = 1;

                // –î–æ–¥–∞—î–º–æ –µ—Ñ–µ–∫—Ç–∏ –≤—ñ–¥ –∑–≤–∏—á–∞–π–Ω–∏—Ö AutoGPT –ø–æ–∫—Ä–∞—â–µ–Ω—å
                baseAutoGptRate += gameData.upgrades.baseAutoGpt * 1;
                baseAutoGptRate += gameData.upgrades.superMiner * 5;
                baseAutoGptRate += gameData.upgrades.quantumProcessor * 20;

                // –î–æ–¥–∞—î–º–æ –µ—Ñ–µ–∫—Ç–∏ –≤—ñ–¥ –ø—Ä–µ–¥–º–µ—Ç—ñ–≤ –º–∞–≥–∞–∑–∏–Ω—É
                baseClickPower += gameData.items.clickBooster; // –ö–æ–∂–µ–Ω –ø—Ä–∏—Å–∫–æ—Ä—é–≤–∞—á –¥–æ–¥–∞—î +1 –¥–æ –∫–ª—ñ–∫—É

                // –ó–∞—Å—Ç–æ—Å–æ–≤—É—î–º–æ XP –±—É—Å—Ç–µ—Ä
                baseXPMultiplier = gameData.items.xpBooster > 0 ? 2 : 1;


                // –ó–∞—Å—Ç–æ—Å–æ–≤—É—î–º–æ –º–Ω–æ–∂–Ω–∏–∫–∏ –≤—ñ–¥ –∫–∞—Ä—Ç–æ–∫ –º—ñ–Ω—ñ-–±—ñ—Ä–∂—ñ
                let totalClickMultiplier = 1;
                let totalAutoGPTMultiplier = 1;
                let totalXPMultiplier = baseXPMultiplier;
                let totalOfflineMiningMultiplier = 1;
                let totalOfflineMiningAdditive = 0; // –î–æ–¥–∞—Ç–∫–æ–≤–∏–π –¥–æ—Ö—ñ–¥ –¥–ª—è –æ—Ñ–ª–∞–π–Ω –±–æ—Ç–∞

                for (const cardId in gameData.marketplaceCards) {
                    const currentLevel = gameData.marketplaceCards[cardId].level;
                    if (currentLevel > 0) {
                        const card = Object.values(marketplaceCardData).flat().find(c => c.id === cardId);
                        if (card) {
                            const { effectValue } = getCardStats(card.id, currentLevel); // –û—Ç—Ä–∏–º—É—î–º–æ –≤–∂–µ —Ä–æ–∑—Ä–∞—Ö–æ–≤–∞–Ω–µ effectValue
                            const effectType = card.effect; // click power, auto GPT, XP gain, offline mining

                            switch (effectType) {
                                case 'click power':
                                    totalClickMultiplier += effectValue;
                                    break;
                                case 'auto GPT':
                                    totalAutoGPTMultiplier += effectValue;
                                    break;
                                case 'XP gain':
                                    totalXPMultiplier += effectValue; // –î–æ–¥–∞—î–º–æ –¥–æ –º–Ω–æ–∂–Ω–∏–∫–∞ XP
                                    break;
                                case 'offline mining':
                                    totalOfflineMiningMultiplier += effectValue;
                                    totalOfflineMiningAdditive += effectValue; // –¢–∞–∫–æ–∂ –º–æ–∂–µ –±—É—Ç–∏ —è–∫ –¥–æ–¥–∞–≤–∞–Ω–Ω—è GPT/–≥–æ–¥
                                    break;
                            }
                        }
                    }
                }

                // –ó–∞—Å—Ç–æ—Å–æ–≤—É—î–º–æ –º–Ω–æ–∂–Ω–∏–∫–∏ –¥–æ –±–∞–∑–æ–≤–∏—Ö –∑–Ω–∞—á–µ–Ω—å
                gameData.clickPower = Math.max(1, Math.floor(baseClickPower * totalClickMultiplier));
                gameData.autoGptRate = baseAutoGptRate * totalAutoGPTMultiplier;
                gameData.xpMultiplier = totalXPMultiplier; // –í—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ –∑–∞–≥–∞–ª—å–Ω–∏–π –º–Ω–æ–∂–Ω–∏–∫ XP
                gameData.offlineBot.miningRatePerHour = (baseOfflineMiningRate + gameData.offlineBot.level * 500) * totalOfflineMiningMultiplier;
                // –¢–∞–∫–æ–∂ –¥–æ–¥–∞—î–º–æ –µ—Ñ–µ–∫—Ç–∏ –≤—ñ–¥ –∫–∞—Ä—Ç–æ–∫ –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –¥–æ offlineBot.miningRatePerHour, —è–∫—â–æ –≤–æ–Ω–∏ —Ç–∞–º –Ω–∞–∫–æ–ø–∏—á—É—é—Ç—å—Å—è
                // –¶–µ –º–æ–∂–µ –±—É—Ç–∏ —Å–∫–ª–∞–¥–Ω–æ, —è–∫—â–æ –µ—Ñ–µ–∫—Ç–∏ –∫–∞—Ä—Ç–æ–∫ –≤–∑–∞—î–º–æ–¥—ñ—é—Ç—å –∑ –±–∞–∑–æ–≤–∏–º —Ä—ñ–≤–Ω–µ–º –æ—Ñ–ª–∞–π–Ω –±–æ—Ç–∞.
                // –î–ª—è –ø—Ä–æ—Å—Ç–æ—Ç–∏, –Ω–µ—Ö–∞–π baseOfflineMiningRate –±—É–¥–µ —Å—É–º–æ—é –≤—ñ–¥ –∫–∞—Ä—Ç–æ–∫ + –≤—ñ–¥ —Ä—ñ–≤–Ω—è –±–æ—Ç–∞
                // TODO: –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏, —è–∫ —Å–∞–º–µ –Ω–∞–∫–æ–ø–∏—á—É—é—Ç—å—Å—è –µ—Ñ–µ–∫—Ç–∏. –ú–æ–∂–ª–∏–≤–æ, –∫—Ä–∞—â–µ –º–∞—Ç–∏ –æ–∫—Ä–µ–º—ñ –∑–º—ñ–Ω–Ω—ñ –¥–ª—è –±–æ–Ω—É—Å—ñ–≤ –≤—ñ–¥ –∫–∞—Ä—Ç–æ–∫.
            }


            // –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∫–∞—Ä—Ç–æ–∫ –º—ñ–Ω—ñ-–±—ñ—Ä–∂—ñ
            function renderMarketplaceCards(category) {
                marketplaceCardsContainer.innerHTML = ''; // –û—á–∏—Å—Ç–∏—Ç–∏ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ –∫–∞—Ä—Ç–∫–∏

                const cardsToShow = marketplaceCardData[category];
                const now = Date.now();

                cardsToShow.forEach(card => {
                    const currentCardData = gameData.marketplaceCards[card.id];
                    const currentLevel = currentCardData ? currentCardData.level : 0;
                    const nextLevel = currentLevel + 1;

                    // –õ–æ–≥—ñ–∫–∞ —Ä–æ–∑–±–ª–æ–∫—É–≤–∞–Ω–Ω—è –∫–∞—Ä—Ç–æ–∫ –∑–∞ —á–∞—Å–æ–º
                    const unlockTimeMs = card.unlockDays * 24 * 60 * 60 * 1000;
                    const isLocked = (now - gameData.gameStartTime) < unlockTimeMs;

                    const cardElement = document.createElement('div');
                    cardElement.classList.add('card-item');
                    if (isLocked) {
                        cardElement.classList.add('locked');
                    }

                    const { cost, effectValue, costType, effectText } = getCardStats(card.id, nextLevel) || { cost: 0, effectValue: 0, costType: 'gpt', effectText: '' }; // Fallback –¥–ª—è effectText

                    let buttonText;
                    let isDisabled = isLocked || (costType === 'gpt' && gameData.gpt < cost) || (currentLevel >= 10);
                    let buttonClass = '';

                    if (currentLevel >= 10) {
                        buttonText = "–ú–∞–∫—Å. —Ä—ñ–≤–µ–Ω—å";
                        isDisabled = true;
                    } else if (isLocked) {
                        const remainingTime = unlockTimeMs - (now - gameData.gameStartTime);
                        const days = Math.ceil(remainingTime / (24 * 60 * 60 * 1000));
                        const hours = Math.ceil(remainingTime / (60 * 60 * 1000) % 24);
                        buttonText = `–†–æ–∑–±–ª. —á–µ—Ä–µ–∑ ${days} –¥–Ω. ${hours} –≥–æ–¥.`;
                        isDisabled = true;
                    } else if (costType === 'gpt') {
                        buttonText = `–ü–æ–∫—Ä–∞—â–∏—Ç–∏ (${cost} GPT)`;
                    } else { // costType === 'ton'
                        buttonText = `–ü–æ–∫—Ä–∞—â–∏—Ç–∏ (${cost} TON)`;
                        buttonClass = 'buy-ton'; // –î–æ–¥–∞—î–º–æ –∫–ª–∞—Å –¥–ª—è –∑–µ–ª–µ–Ω–æ—ó –∫–Ω–æ–ø–∫–∏
                    }


                    cardElement.innerHTML = `
                        <div class="card-icon">${card.icon}</div>
                        <h3>${card.name}</h3>
                        <p>${effectText}</p>
                        <p class="card-level">–†—ñ–≤–µ–Ω—å: ${currentLevel}/10</p>
                        <button data-card-id="${card.id}" data-cost-type="${costType}" ${isDisabled ? 'disabled' : ''} class="${buttonClass}">
                            ${buttonText}
                        </button>
                    `;
                    marketplaceCardsContainer.appendChild(cardElement);

                    const buyButton = cardElement.querySelector('button');
                    if (!isDisabled) {
                        buyButton.addEventListener('click', () => buyMarketplaceCard(card.id, cost, costType));
                    }
                });
            }

            // –ö—É–ø—ñ–≤–ª—è/–ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è –∫–∞—Ä—Ç–∫–∏ –º—ñ–Ω—ñ-–±—ñ—Ä–∂—ñ
            function buyMarketplaceCard(cardId, cost, costType) {
                const currentCardData = gameData.marketplaceCards[cardId];
                if (!currentCardData) {
                    addNotification("–ü–æ–º–∏–ª–∫–∞: –∫–∞—Ä—Ç–∫—É –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ.", "error");
                    return;
                }

                const currentLevel = currentCardData.level;
                if (currentLevel >= 10) {
                    addNotification("–¶—è –∫–∞—Ä—Ç–∫–∞ –¥–æ—Å—è–≥–ª–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä—ñ–≤–Ω—è.", "info");
                    return;
                }

                const nextLevel = currentLevel + 1;
                const { cost: actualCost, costType: actualCostType } = getCardStats(cardId, nextLevel);

                if (actualCostType === 'gpt') {
                    if (gameData.gpt >= actualCost) {
                        gameData.gpt -= actualCost;
                        currentCardData.level = nextLevel;
                        addNotification(`–í–∏ –ø–æ–∫—Ä–∞—â–∏–ª–∏ "${Object.values(marketplaceCardData).flat().find(c => c.id === cardId).name}" –¥–æ —Ä—ñ–≤–Ω—è ${nextLevel}!`);
                        updateQuestProgress('buyMarketCard', 1); // –û–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–≤–µ—Å—Ç—É
                        if (buySound) { // <-- –î–æ–¥–∞–π—Ç–µ —Ç—É—Ç
                            buySound.currentTime = 0;
                            buySound.play().catch(e => console.log("Buy sound play failed:", e));
                        }
                        applyCardEffects(); // –ü–µ—Ä–µ—Ä–∞—Ö–æ–≤—É—î–º–æ –µ—Ñ–µ–∫—Ç–∏ –ø—ñ—Å–ª—è –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è
                        updateUI();
                        saveGameData();
                    } else {
                        addNotification(`–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ GPT –¥–ª—è –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è! –ü–æ—Ç—Ä—ñ–±–Ω–æ ${actualCost} GPT.`, "error");
                    }
                } else if (actualCostType === 'ton') {
                    // –°–∏–º—É–ª—è—Ü—ñ—è –æ–ø–ª–∞—Ç–∏ TON. –í —Ä–µ–∞–ª—å–Ω–æ–º—É –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É —Ç—É—Ç –±—É–ª–∞ –± —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ Tonkeeper/TON Connect
                    if (confirm(`–î–ª—è –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è —Ü—ñ—î—ó –∫–∞—Ä—Ç–∫–∏ –¥–æ —Ä—ñ–≤–Ω—è ${nextLevel} –ø–æ—Ç—Ä—ñ–±–Ω–æ ${actualCost} TON. –í–∏ –≤–ø–µ–≤–Ω–µ–Ω—ñ? (–¶–µ —Å–∏–º—É–ª—è—Ü—ñ—è –æ–ø–ª–∞—Ç–∏ TON)`)) {
                        currentCardData.level = nextLevel;
                        addNotification(`–í–∏ –ø–æ–∫—Ä–∞—â–∏–ª–∏ "${Object.values(marketplaceCardData).flat().find(c => c.id === cardId).name}" –¥–æ —Ä—ñ–≤–Ω—è ${nextLevel} –∑–∞ TON!`);
                        updateQuestProgress('buyMarketCard', 1); // –û–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–≤–µ—Å—Ç—É
                        if (buySound) { // <-- –î–æ–¥–∞–π—Ç–µ —Ç—É—Ç
                            buySound.currentTime = 0;
                            buySound.play().catch(e => console.log("Buy sound play failed:", e));
                        }
                        applyCardEffects(); // –ü–µ—Ä–µ—Ä–∞—Ö–æ–≤—É—î–º–æ –µ—Ñ–µ–∫—Ç–∏ –ø—ñ—Å–ª—è –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è
                        updateUI();
                        saveGameData();
                        // –¢—É—Ç –º–æ–∂–Ω–∞ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—é –¥–ª—è Tonkeeper –∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –ø–ª–∞—Ç–µ–∂—É
                        // openTonkeeper(actualCost, "–ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è –∫–∞—Ä—Ç–∫–∏ " + cardId);
                    } else {
                        addNotification("–ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è —Å–∫–∞—Å–æ–≤–∞–Ω–æ.", "info");
                    }
                }
            }

            // === –©–æ–¥–µ–Ω–Ω—ñ –∫–≤–µ—Å—Ç–∏ –§—É–Ω–∫—Ü—ñ—ó ===

            // –°–∫–∏–¥–∞–Ω–Ω—è —Ç–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è —â–æ–¥–µ–Ω–Ω–∏—Ö –∫–≤–µ—Å—Ç—ñ–≤
            function resetDailyQuests() {
                const today = new Date().toDateString();
                const lastReset = new Date(gameData.lastDailyQuestReset).toDateString();

                if (today !== lastReset) {
                    gameData.dailyQuests = []; // –û—á–∏—â—É—î–º–æ —Å—Ç–∞—Ä—ñ –∫–≤–µ—Å—Ç–∏
                    // –í–∏–±–∏—Ä–∞—î–º–æ 3 –≤–∏–ø–∞–¥–∫–æ–≤—ñ –∫–≤–µ—Å—Ç–∏ (–º–æ–∂–Ω–∞ —É—Å–∫–ª–∞–¥–Ω–∏—Ç–∏ –ª–æ–≥—ñ–∫—É)
                    const shuffledQuests = [...dailyQuestTemplates].sort(() => 0.5 - Math.random());
                    gameData.dailyQuests = shuffledQuests.slice(0, 3).map(q => ({ ...q, currentProgress: 0, completed: false }));
                    gameData.lastDailyQuestReset = Date.now();
                    addNotification("–ù–æ–≤—ñ —â–æ–¥–µ–Ω–Ω—ñ –∫–≤–µ—Å—Ç–∏ –¥–æ—Å—Ç—É–ø–Ω—ñ!");
                    saveGameData();
                }
            }

            // –û–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–æ–≥—Ä–µ—Å—É –∫–≤–µ—Å—Ç—ñ–≤
            function updateQuestProgress(type, amount) {
                gameData.dailyQuests.forEach(quest => {
                    if (quest.type === type && !quest.completed) {
                        quest.currentProgress += amount;
                        if (quest.currentProgress >= quest.target) {
                            quest.currentProgress = quest.target; // –ó–∞–±–µ–∑–ø–µ—á—É—î–º–æ, —â–æ –Ω–µ –ø–µ—Ä–µ–≤–∏—â—É—î —Ç–∞—Ä–≥–µ—Ç
                        }
                    }
                });
                saveGameData();
                updateUI(); // –©–æ–± –æ–Ω–æ–≤–∏—Ç–∏ –≤—ñ–∑—É–∞–ª—å–Ω–∏–π —Å—Ç–∞–Ω –∫–≤–µ—Å—Ç—ñ–≤
            }

            // –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—è –∫–≤–µ—Å—Ç—É
            function completeQuest(questId) {
                const quest = gameData.dailyQuests.find(q => q.id === questId);
                if (quest && quest.currentProgress >= quest.target && !quest.completed) {
                    gameData.gpt += quest.rewardGPT;
                    gameData.xp += quest.rewardXP;
                    quest.completed = true;
                    addNotification(`–ö–≤–µ—Å—Ç "${quest.name}" –≤–∏–∫–æ–Ω–∞–Ω–æ! –û—Ç—Ä–∏–º–∞–Ω–æ ${quest.rewardGPT} GPT —Ç–∞ ${quest.rewardXP} XP.`);
                    if (buySound) { // <-- –î–æ–¥–∞–π—Ç–µ —Ç—É—Ç –∑–≤—É–∫ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è
                        buySound.currentTime = 0;
                        buySound.play().catch(e => console.log("Quest complete sound play failed:", e));
                    }
                    checkLevelUp();
                    updateUI();
                    saveGameData();
                }
            }

            // –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ —â–æ–¥–µ–Ω–Ω–∏—Ö –∫–≤–µ—Å—Ç—ñ–≤
            function renderDailyQuests() {
                dailyQuestsContainer.innerHTML = '';
                if (gameData.dailyQuests.length === 0) {
                    resetDailyQuests(); // –°–ø—Ä–æ–±—É–≤–∞—Ç–∏ –∑–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏, —è–∫—â–æ –ø–æ—Ä–æ–∂–Ω—å–æ (–ø—Ä–∏ –ø–µ—Ä—à–æ–º—É –≤—Ö–æ–¥—ñ)
                }

                gameData.dailyQuests.forEach(quest => {
                    const questElement = document.createElement('div');
                    questElement.classList.add('quest-item');

                    const progressPercent = (quest.currentProgress / quest.target) * 100;
                    const isCompleted = quest.completed;
                    const canClaim = quest.currentProgress >= quest.target && !quest.completed;

                    questElement.innerHTML = `
                        <h3>${quest.name}</h3>
                        <p>–ü—Ä–æ–≥—Ä–µ—Å: ${quest.currentProgress}/${quest.target}</p>
                        <div class="quest-progress-bar"><div class="quest-progress-fill" style="width: ${progressPercent}%;"></div></div>
                        <p>–ù–∞–≥–æ—Ä–æ–¥–∞: ${quest.rewardGPT} GPT, ${quest.rewardXP} XP</p>
                        <button data-quest-id="${quest.id}" ${!canClaim ? 'disabled' : ''}>${isCompleted ? '–í–∏–∫–æ–Ω–∞–Ω–æ' : '–ó–∞–±—Ä–∞—Ç–∏ –Ω–∞–≥–æ—Ä–æ–¥—É'}</button>
                    `;
                    dailyQuestsContainer.appendChild(questElement);

                    const claimButton = questElement.querySelector('button');
                    if (canClaim) {
                        claimButton.addEventListener('click', () => completeQuest(quest.id));
                    }
                });
            }


            // –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö –≥—Ä–∏
            function saveGameData() {
                try {
                    gameData.lastActiveTime = Date.now();
                    localStorage.setItem('clickGptGameData', JSON.stringify(gameData));
                    // console.log("–ì—Ä–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–∞:", gameData);
                } catch (e) {
                    console.error("–ü–æ–º–∏–ª–∫–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö:", e);
                    alert("–ü–æ–º–∏–ª–∫–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –≥—Ä–∏. –ë—É–¥—å –ª–∞—Å–∫–∞, –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –±—Ä–∞—É–∑–µ—Ä–∞.");
                }
            }

            // –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö –≥—Ä–∏
            function loadGameData() {
                try {
                    const savedData = localStorage.getItem('clickGptGameData');
                    if (savedData) {
                        const loadedGameData = JSON.parse(savedData);

                        // –û–Ω–æ–≤–ª—é—î–º–æ gameData, –∑–±–µ—Ä—ñ–≥–∞—é—á–∏ –Ω–æ–≤—ñ –ø–æ–ª—è, —è–∫—â–æ —ó—Ö –Ω–µ–º–∞—î –≤ –∑–±–µ—Ä–µ–∂–µ–Ω–∏—Ö –¥–∞–Ω–∏—Ö
                        gameData = { ...gameData, ...loadedGameData };

                        // –ü–µ—Ä–µ–∫–æ–Ω—É—î–º–æ—Å—å, —â–æ –≤—Å—ñ –Ω–æ–≤—ñ –ø–æ–ª—è —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ, —è–∫—â–æ —ó—Ö –Ω–µ–º–∞—î –≤ –∑–±–µ—Ä–µ–∂–µ–Ω–∏—Ö –¥–∞–Ω–∏—Ö
                        if (typeof gameData.energy === 'undefined') {
                            gameData.energy = { current: 100, max: 100, recoveryRate: 1 };
                        }
                        if (typeof gameData.offlineBot.tonCost === 'undefined') {
                            gameData.offlineBot.tonCost = 1;
                        }
                        if (typeof gameData.offlineBot.miningRatePerHour === 'undefined') {
                            gameData.offlineBot.miningRatePerHour = 0;
                        }
                        if (typeof gameData.gameStartTime === 'undefined') {
                            gameData.gameStartTime = Date.now();
                        }
                        if (typeof gameData.items.clickBooster === 'undefined') {
                            gameData.items.clickBooster = 0;
                        }
                        if (typeof gameData.items.energyBoost === 'undefined') {
                            gameData.items.energyBoost = 0;
                        }
                        if (typeof gameData.items.dailyBonusReset === 'undefined') {
                            gameData.items.dailyBonusReset = 0;
                        }
                        if (typeof gameData.items.xpBooster === 'undefined') {
                            gameData.items.xpBooster = 0;
                        }
                        if (typeof gameData.xpMultiplier === 'undefined') {
                            gameData.xpMultiplier = 1; // –î–æ–¥–∞—î–º–æ –º–Ω–æ–∂–Ω–∏–∫ XP
                        }
                        if (typeof gameData.dailyQuests === 'undefined' || !Array.isArray(gameData.dailyQuests)) {
                            gameData.dailyQuests = [];
                        }
                        if (typeof gameData.lastDailyQuestReset === 'undefined') {
                            gameData.lastDailyQuestReset = 0; // –î–ª—è –ø–µ—Ä—à–æ–≥–æ —Å–∫–∏–¥–∞–Ω–Ω—è –∫–≤–µ—Å—Ç—ñ–≤
                        }


                        // –ü–µ—Ä–µ–∫–æ–Ω—É—î–º–æ—Å—å, —â–æ –≤—Å—ñ –∫–∞—Ä—Ç–∫–∏ –º—ñ–Ω—ñ-–±—ñ—Ä–∂—ñ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ
                        for (const category in marketplaceCardData) {
                            marketplaceCardData[category].forEach(card => {
                                if (!gameData.marketplaceCards[card.id]) {
                                    gameData.marketplaceCards[card.id] = { level: 0, lastUnlockedTime: gameData.gameStartTime };
                                }
                            });
                        }

                        // –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –æ—Ñ–ª–∞–π–Ω-–¥–æ—Ö–æ–¥—É
                        const now = Date.now();
                        const offlineTimeHours = (now - gameData.lastActiveTime) / (1000 * 60 * 60); // –ß–∞—Å –≤ –≥–æ–¥–∏–Ω–∞—Ö
                        if (offlineTimeHours >= 1 && gameData.offlineBot.miningRatePerHour > 0) {
                            const offlineGptEarned = Math.floor(offlineTimeHours * gameData.offlineBot.miningRatePerHour);
                            gameData.gpt += offlineGptEarned;
                            addNotification(`–í–∏ –∑–∞—Ä–æ–±–∏–ª–∏ ${offlineGptEarned} GPT, –ø–æ–∫–∏ –±—É–ª–∏ –æ—Ñ–ª–∞–π–Ω!`);
                        }

                        applyCardEffects(); // –ó–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ –µ—Ñ–µ–∫—Ç–∏ –≤—ñ–¥ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–∏—Ö –∫–∞—Ä—Ç–æ–∫
                        updateUI();
                        // console.log("–ì—Ä–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–∞:", gameData);

                        // –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ UI
                        notificationList.innerHTML = ''; // –û—á–∏—Å—Ç–∏—Ç–∏ —ñ—Å–Ω—É—é—á—ñ
                        gameData.notifications.forEach(notif => {
                            const notificationHTML = `<li><small>${notif.timestamp}</small> ${notif.message}</li>`;
                            notificationList.insertAdjacentHTML('beforeend', notificationHTML);
                        });

                        return true;
                    }
                } catch (e) {
                    console.error("–ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö:", e);
                    alert("–ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –≥—Ä–∏. –ü–æ—á–∏–Ω–∞—î–º–æ –Ω–æ–≤—É –≥—Ä—É.");
                    resetGameData(); // –Ø–∫—â–æ –¥–∞–Ω—ñ –ø–æ—à–∫–æ–¥–∂–µ–Ω—ñ, –ø–æ—á–∏–Ω–∞—î–º–æ –Ω–æ–≤—É –≥—Ä—É
                }
                return false;
            }

            // –°–∫–∏–¥–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö –≥—Ä–∏
            window.resetGameData = function() { // –ó—Ä–æ–±–ª–µ–Ω–æ –≥–ª–æ–±–∞–ª—å–Ω–æ—é –¥–ª—è onclick
                if (confirm("–í–∏ –≤–ø–µ–≤–Ω–µ–Ω—ñ, —â–æ —Ö–æ—á–µ—Ç–µ —Å–∫–∏–Ω—É—Ç–∏ –≤–µ—Å—å –ø—Ä–æ–≥—Ä–µ—Å? –¶—é –¥—ñ—é –Ω–µ –º–æ–∂–Ω–∞ –±—É–¥–µ —Å–∫–∞—Å—É–≤–∞—Ç–∏!")) {
                    localStorage.removeItem('clickGptGameData');
                    gameData = {
                        gpt: 0,
                        clickPower: 1,
                        autoGptRate: 0,
                        energy: {
                            current: 100,
                            max: 100,
                            recoveryRate: 1
                        },
                        offlineBot: {
                            level: 1,
                            miningRatePerHour: 0,
                            cost: 100,
                            tonCost: 1
                        },
                        level: 1,
                        xp: 0,
                        upgrades: {
                            baseAutoGpt: 0,
                            superMiner: 0,
                            quantumProcessor: 0,
                        },
                        items: {
                            clickBooster: 0,
                            energyBoost: 0,
                            dailyBonusReset: 0,
                            xpBooster: 0,
                        },
                        marketplaceCards: {},
                        notifications: [],
                        lastActiveTime: Date.now(),
                        gameStartTime: Date.now(),
                        dailyQuests: [],
                        lastDailyQuestReset: 0,
                        xpMultiplier: 1
                    };
                    // –ü–µ—Ä–µ—ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—î–º–æ –∫–∞—Ä—Ç–∫–∏ –¥–ª—è –Ω–æ–≤–æ–≥–æ —Å—Ç–∞—Ä—Ç—É
                    for (const category in marketplaceCardData) {
                        marketplaceCardData[category].forEach(card => {
                            gameData.marketplaceCards[card.id] = { level: 0, lastUnlockedTime: gameData.gameStartTime };
                        });
                    }

                    addNotification("–ì—Ä–∞ —Å–∫–∏–Ω—É—Ç–∞. –ü–æ—á–∞—Ç–æ–∫ –Ω–æ–≤–æ—ó –ø—Ä–∏–≥–æ–¥–∏!");
                    applyCardEffects(); // –ü–µ—Ä–µ—Ä–∞—Ö—É–≤–∞—Ç–∏ –µ—Ñ–µ–∫—Ç–∏ –ø—ñ—Å–ª—è —Å–∫–∏–¥–∞–Ω–Ω—è
                    updateUI();
                    saveGameData();
                    showTab('click'); // –ü–æ–≤–µ—Ä–Ω—É—Ç–∏ –Ω–∞ –≥–æ–ª–æ–≤–Ω–∏–π –µ–∫—Ä–∞–Ω
                    resetDailyQuests(); // –°–∫–∏–Ω—É—Ç–∏ –∫–≤–µ—Å—Ç–∏ –ø—Ä–∏ –Ω–æ–≤–æ–º—É —Å—Ç–∞—Ä—Ç—ñ
                }
            };

            // –ü–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è –≤–∫–ª–∞–¥–æ–∫
            window.showTab = function(tabId) { // –ó—Ä–æ–±–ª–µ–Ω–æ –≥–ª–æ–±–∞–ª—å–Ω–æ—é –¥–ª—è onclick
                sections.forEach(section => {
                    section.style.display = 'none';
                });
                document.getElementById(tabId).style.display = 'block';

                navItems.forEach(item => item.classList.remove('active'));
                const activeNavItem = document.querySelector(`.nav-item[data-tab="${tabId}"]`);
                if (activeNavItem) {
                    activeNavItem.classList.add('active');
                }

                // –û—Å–æ–±–ª–∏–≤–∏–π –≤–∏–ø–∞–¥–æ–∫ –¥–ª—è "–ë—ñ–ª—å—à–µ" - —è–∫—â–æ —Ü–µ –Ω–µ "–ë—ñ–ª—å—à–µ" —Å–∞–º –ø–æ —Å–æ–±—ñ, –∞–∫—Ç–∏–≤—É–≤–∞—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—É –≤–∫–ª–∞–¥–∫—É.
                if (tabId !== 'more') {
                    const moreTabItem = document.querySelector(`.nav-item[data-tab="more"]`);
                    if (moreTabItem) {
                        moreTabItem.classList.remove('active');
                    }
                }
                // –Ø–∫—â–æ –ø–µ—Ä–µ—Ö–æ–¥–∏–º–æ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "–ë—ñ—Ä–∂–∞", –æ–Ω–æ–≤–ª—é—î–º–æ –∫–∞—Ä—Ç–∫–∏
                if (tabId === 'exchange') {
                    renderMarketplaceCards(document.querySelector('.marketplace-tabs button.active').dataset.marketTab);
                } else if (tabId === 'quests') {
                    renderDailyQuests(); // –û–Ω–æ–≤–ª—é—î–º–æ –∫–≤–µ—Å—Ç–∏ –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥—ñ –Ω–∞ –≤–∫–ª–∞–¥–∫—É
                }
                saveGameData();
            };

            // –§—É–Ω–∫—Ü—ñ—ó –¥–ª—è –∫–Ω–æ–ø–æ–∫ "–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è" —Ç–∞ "–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è" —É –≤–µ—Ä—Ö–Ω—å–æ–º—É –±–∞—Ä—ñ
            window.showSettings = function() {
                showTab('settings');
                document.querySelector(`.nav-item[data-tab="more"]`).classList.add('active'); // –ü—ñ–¥—Å–≤—ñ—á—É—î–º–æ "–ë—ñ–ª—å—à–µ"
            };

            window.showNotifications = function() {
                showTab('notifications');
                document.querySelector(`.nav-item[data-tab="more"]`).classList.add('active'); // –ü—ñ–¥—Å–≤—ñ—á—É—î–º–æ "–ë—ñ–ª—å—à–µ"
            };

            // –§—É–Ω–∫—Ü—ñ—ó –¥–ª—è TON
            window.copyTonAddress = function() {
                const tonAddress = document.getElementById('tonAddress').textContent;
                navigator.clipboard.writeText(tonAddress).then(() => {
                    alert('–ê–¥—Ä–µ—Å—É TON —Å–∫–æ–ø—ñ–π–æ–≤–∞–Ω–æ!');
                }).catch(err => {
                    console.error('–ù–µ –≤–¥–∞–ª–æ—Å—è —Å–∫–æ–ø—ñ—é–≤–∞—Ç–∏ —Ç–µ–∫—Å—Ç: ', err);
                });
            };

            window.openTonkeeper = function(amount = 0.1, comment = `ClickGPT_User_${new Date().getTime()}`) {
                const tonAddress = document.getElementById('tonAddress').textContent;
                const tonkeeperUrl = `ton://transfer/${tonAddress}?amount=${amount * 1e9}&text=${encodeURIComponent(comment)}`;
                window.open(tonkeeperUrl, '_blank');
                addNotification("–í—ñ–¥–∫—Ä–∏—Ç–æ Tonkeeper –¥–ª—è –æ–ø–ª–∞—Ç–∏. –ù–µ –∑–∞–±—É–¥—å—Ç–µ –≤–∫–∞–∑–∞—Ç–∏ ID –≤ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ!");
            };


            // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –≥—Ä–∏
            function initGame() {
                if (loadGameData()) {
                    console.log("–ì—Ä–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–∞.");
                } else {
                    addNotification("–õ–∞—Å–∫–∞–≤–æ –ø—Ä–æ—Å–∏–º–æ –¥–æ ClickGPT 5.0! –ü–æ—á–Ω—ñ—Ç—å –º–∞–π–Ω—ñ–Ω–≥ GPT!");
                }
                resetDailyQuests(); // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ —Ç–∞ –≥–µ–Ω–µ—Ä—É—î–º–æ –∫–≤–µ—Å—Ç–∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç—ñ
                updateUI();
                setInterval(autoGptTick, 1000); // –û–Ω–æ–≤–ª–µ–Ω–Ω—è AutoGPT –∫–æ–∂–Ω—É —Å–µ–∫—É–Ω–¥—É
                setInterval(recoverEnergy, 10000); // –í—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è –µ–Ω–µ—Ä–≥—ñ—ó –∫–æ–∂–Ω—ñ 10 —Å–µ–∫—É–Ω–¥
                // –ö–æ–∂–Ω—ñ 5 —Ö–≤–∏–ª–∏–Ω –ø–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ –Ω–µ —á–∞—Å —Ä–æ–∑–±–ª–æ–∫—É–≤–∞—Ç–∏ –Ω–æ–≤—ñ –∫–∞—Ä—Ç–∫–∏ —Ç–∞ –æ–Ω–æ–≤–∏—Ç–∏ UI
                setInterval(updateUI, 5 * 60 * 1000);
            }

            // –°–ª—É—Ö–∞—á—ñ –ø–æ–¥—ñ–π
            tonCoin.addEventListener('click', clickTonCoin);

            upgradeList.addEventListener('click', (event) => {
                if (event.target.classList.contains('buy-upgrade-btn')) {
                    buyUpgrade(event);
                }
            });

            storeGrid.addEventListener('click', (event) => {
                if (event.target.classList.contains('buy-item-btn')) {
                    buyItem(event);
                }
            });

            upgradeOfflineBotBtn.addEventListener('click', upgradeOfflineBot);


            navItems.forEach(item => {
                item.addEventListener('click', () => {
                    const tab = item.dataset.tab;
                    showTab(tab);
                });
            });

            // –°–ª—É—Ö–∞—á—ñ –¥–ª—è –≤–∫–ª–∞–¥–æ–∫ –º—ñ–Ω—ñ-–±—ñ—Ä–∂—ñ
            marketplaceTabs.addEventListener('click', (event) => {
                if (event.target.classList.contains('tab-button')) {
                    document.querySelectorAll('.marketplace-tabs .tab-button').forEach(btn => btn.classList.remove('active'));
                    event.target.classList.add('active');
                    renderMarketplaceCards(event.target.dataset.marketTab);
                }
            });


            // –ü–æ—á–∞—Ç–∫–æ–≤–∏–π –µ–∫—Ä–∞–Ω
            startGameBtn.addEventListener('click', () => {
                startScreen.style.display = 'none';
                gameContainer.style.display = 'flex';
                initGame();
                showTab('click'); // –ü–æ–∫–∞–∑–∞—Ç–∏ –≥–æ–ª–æ–≤–Ω–∏–π –µ–∫—Ä–∞–Ω –ø—ñ—Å–ª—è –∑–∞–ø—É—Å–∫—É
            });

            // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞, —á–∏ —Ü–µ Telegram WebApp
            if (window.Telegram && window.Telegram.WebApp) {
                Telegram.WebApp.ready();
                // –ü—Ä–∏–∫–ª–∞–¥ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è user ID –∑ Telegram
                // const userId = Telegram.WebApp.initDataUnsafe.user.id;
                // console.log("Telegram User ID:", userId);

                // –ü—Ä–∏–∫–ª–∞–¥ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó –∑ Telegram
                // Telegram.WebApp.setHeaderColor('#00f6ff');
                // Telegram.WebApp.setBackgroundColor('#1a2542');
                // Telegram.WebApp.setMainButton({ text: '–ó–∞–ø—Ä–æ—Å–∏—Ç–∏ –¥—Ä—É–∑—ñ–≤', isVisible: true });
                // Telegram.WebApp.onEvent('mainButtonClicked', function() {
                //     Telegram.WebApp.showPopup({
                //         title: '–ó–∞–ø—Ä–æ—à–µ–Ω–Ω—è',
                //         message: '–°–∫–æ—Ä–æ —Ç—É—Ç –±—É–¥–µ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—è –¥—Ä—É–∑—ñ–≤!',
                //         buttons: [{ id: 'ok', text: '–û–ö' }]
                //     });
                // });
            }
        });
    </script>
</body>
</html>
